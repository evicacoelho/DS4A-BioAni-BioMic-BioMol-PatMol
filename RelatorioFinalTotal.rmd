---
title: Avaliação dos Programas de pós-graduação de Ciências Biologicas I e III e dos currículos dos professores / pesquisadores cadastrados
disciplina: Ciência de Dados para Todos (Data Science For All) - 2018.1/ Universidade de Brasília (Jorge H. C. Fernandes, Ricardo B. Sampaio, João Ribas de Moura e Jerônimo A. Filho)
author: Emanuel Victor A. Coelho 14/0137475, Jonas Prado 13/0117277 , Maria Júlia
  G. R. Rodrigues 14/0153713 - Grupo 10
programas de pós-graduação vinculados: Biologia Animal, Biologia Molecular, Biologia Microbiana e Patologia Molecular
date: "05/12/2018"
output:
  pdf_document:
    latex_engine: xelatex
  html_document: default
  word_document: default
---

# Resumo

Este documento apresenta o relatório final da disciplina de tópicos Avançados em computadores - Turma D - 2018.2 do departamento de Ciência da Computação da universidade de Brasília, que trata da análise da produção científica e acadêmica na Universidade de Brasília, na área de Ciências Biológicas. Para isso, foi aplicado o modelo metodológigo de mineração de dados CRISP-DM e através dele foram dispostas diversas informações sobre a evolução destes programas de pós-graduação entre os anos de 2010 e 2017 (Fernandes et. al., 2018).

# Introdução

Este trabalho visa, no contexto da pós-graduação do sentido amplo e restrito do Brasil, buscar relações e comparações entre os Programas de Pós-Graduação em Biologia Molecular, Biologia Animal, Biologia Microbiana e Patologia Molecular da Universidade de Brasília para sintetizar o panorama e o paradigma da pós-graduação nestes programas.

# CRISP-DM:

A metodologia para desenvolvimento do relatório é baseada no modelo de mineração de dados denominado CRISP-DM (Chapman et al., 2000, Mariscal et al., 2010). Este modelo é caracterizado por um projeto dividido em seis fases, as quais serão tratadas ao longo das seções seguintes.

- Fase 1) Entendimento do negócio: Busca definir um problema de mineração de dados com base nos objetivos e necessidades do projeto.
- Fase 2) Entendimento dos dados: Consiste na coleta e descrição dos dados, incluindo uma análise de qualidade e quantidade dos mesmos - necessários para avaliar a viabilidade do projeto.
- Fase 3) Preparação dos dados: Consiste na estruturação dos dados capturados, incluindo uma fase de limpeza de dados indesejados ou inconsistentes. Esta fase tem como objetivo produzir datasets prontos para análises estatísticas e produção de gráficos.
- Fase 4) Modelagem: Envolve a construção e revisão de modelos estatísticos de interesse para o projeto, além de testes para descarte dos modelos produzidos que não atingirem o grau desejado de confiabilidade.
- Fase 5) Avaliação: Consiste na avaliação dos resultados e do processo como um todo, revisando se todas as questões relevantes para o projeto foram abordadas adequadamente.
- Fase 6) Implementação: Consiste no planejamento e implementação dos entregáveis finais desenvolvidos pelo projeto, incluindo monitoramento e manutenção dos mesmos.

##CRISP-DM Fase 1 - Entendimento do Negócio
##O que é o Sistema Nacional de Pós-Graduação?

O Programa de Pós-Graduação é o conjugado formado pelos cursos de mestrado e/ou doutorado acadêmicos ou de mestrado profissional de uma Instituição de Ensino Superior - IES atuante numa mesma área do conhecimento (sua área básica) que partilha essencialmente o mesmo corpo docente e tem uma estrutura administrativa comum. Programas são divididos em acadêmicos ou profissionais, de acordo com os cursos (Leite, 2018).

O sistema nacional de pós-graduação engloba todo programa de pós graduação no Brasil e o CAPES e o responsável pelo processo de acompanhamento e  avaliação  da  qualidade  dos  programas  de  pós-graduação. Cabe à CAPES constituir as normas específicas para a sistematização de avaliação, delineando as etapas, critérios e ferramentas utilizadas no processo (Silveira e Neto, 2016).

O sistema nacional de pós-graduação tem vários objetivos dentre eles: fortalecer as bases cientifica e tecnológicas de inovação; formação adequada de docentes para todos os níveis de ensino; formação de quadros para mercados não acadêmicos; diminuir as desigualdades acadêmicas entre as regiões do país; preservação do sistema nacional de avaliação de qualidade da pós-graduação brasileira, como um sistema de certificação e referência para a distribuição de bolsas e recursos para o fomento à pesquisa; avaliação da produção tecnológica e seu impacto e relevância para o setor econômico; incentivo à inovação; diversificar o sistema de avaliação de forma a permitir a análise de diferentes modelos de pós-graduação; introduzir procedimentos que contemplem aspectos qualitativos dos programas de pós-graduação; estimular à pós-graduação, apresentando constantes atualizações dos indicadores qualitativos e quantitativos, orientando a formação de recursos humanos e a pesquisa na direção das fronteiras do conhecimento e das precedências estratégicas do País (Nunes, 2009).


### Os Colégios, Grandes áreas e áreas da Pós-Graduação Brasileira

A partir de 2018, as diversas áreas da pós-graduação brasileira foram organizadas na forma de colégios, grandes áreas e áreas. Os colégios foram separados da seguinte formar:

- Colégio de Ciências da Vida - que contempla as grandes áreas de Ciências Agrárias, Ciências Biológicas e Ciências da Saúde. 

- Colégio de Ciências Exatas, Tecnológicas e Multidisciplinar - que contempla as grandes áreas de Ciencias Exatas e da Terra, Engenharias e Multidisciplinar.

- Colégio de Humanidades - que contempla as grandes áreas de Ciencias Humanas, Ciencias Sociais Aplicadas e Linguistica, Letras e Artes.

Cada um dos colégios, grandes áreas e áreas de conhecimento possui suas particularidades e não podem ser avaliadas de forma igual. Cada qual deve ser analisada e avaliada conforme o documento de área disponível em Capes (2018). (Fernandes et. al., 2018).

##A UnB dentro do Sistema Nacional de Pós-Graduação

A produção cientifica na UnB é umas das mais importantes do país. De acordo com o Plano de Internacionalização da Universidade de Brasília a produção aumentou em aspecto de qualidade e quantidade no período de 2011 a 2016. (SciVal, 2018).

![Produção científica.](/home/mustella/Repository/DataScience/DS4A-BioAni-BioMic-BioMol-PatMol-master/Imagem1.jpg)

![Impacto da produção.](/home/mustella/Repository/DataScience/DS4A-BioAni-BioMic-BioMol-PatMol-master/Imagem2.jpg)

Um impacto normalizado de 1,00 significa que a produção teve comportamento similar à média global. Um impacto superior a 1,00 indica maior citação que a média (por exemplo, um impacto de 1,50 indica 50% a mais de citação) enquanto um impacto inferior a 1,00 indica citação inferior à média (SeCom, 2018, Adaptado).

Em 2011, o impacto normalizado por citação foi, de acordo com o gráfico, de aproximadamente 0.85, o que indica que os pesquisadores da UnB foram 15% menos citados do que a média global. Similarmente em 2013, ouve uma redução branda no número de pesquisadores citados. Entretanto, de 2013 até 2016 ouve um aumento considerável nesse impacto normalizado - os pesquisadores da UnB atingiram índice de impacto por citação de 1.45 em 2016, sendo 45% mais citados que a média global (SeCom, 2018).

Esse aumento na produção cientifica está diretamente associada ao aumento no número de docentes da Universidade. Entre os anos de 2009 e 2013, 577 professores ingressaram no quadro permanente da instituição, com um aumento de 32%. Entre 2013 e 2016, este aumento foi de 185 docentes (8%). (...) Com um quadro de professores maior espera-se naturalmente uma maior produção de artigos e outras matérias científicos pela UnB (SeCom, 2018).

## Contextualização dos Programas
### Ciências Biológicas I

A forma de avaliação da Capes para os programas de Pós-Graduação em Biologia Molecular e Biologia Animal da Universidade de Brasília é determinada pela área 06 que se trata sobre ciências biológicas com atuação nas áreas de Genética, Biologia Geral, Biologia Molecular, Biologia Celular, Biologia do Desenvolvimento, Bioinformática e Biologia de Sistemas. 

Há pouco tempo à área de ciências biológicas I passou por mudanças no arranjo dos Programas de Pós-Graduação (PPG) componentes para atender padrões de qualificação e a especialização das Áreas. Isso demonstra algo muito bom, pois a CAPES tem formado novas Áreas que atendem melhor aos critérios característicos de avaliação, resultando em Áreas de Avaliação padronizadas e admitindo maior integração entre os PPG. (Capes, 2016).

A interdisciplinaridade e um fator importante e que caracteriza bem a área de ciências biológicas I. Os programas de pós-graduação que pertencem essa área são compostos por docentes com distintas formações profissionais principalmente em áreas com relação direta com a área de biológicas. O conjunto formado pela união desses profissionais reflete no progresso e desenvolvimento de extrema importância nessas áreas. Este lado multidisciplinar é importante e necessário ser mantido para se compreender e desenvolver melhor técnicas, pesquisas, metodologias, etc. A união destas áreas vem desenvolvendo os núcleos de pesquisa em pós-graduação de maneira muito positiva. (Capes, 2016).

Os referentes de maior peso da Ficha de Avaliação dos programas de pós-graduação na área de ciências biológicas I constituem-se dos tópicos: Corpo Docente, Corpo Discente, Teses, Dissertações e Produção Intelectual. De maneira que se busque o desenvolvimento acadêmico e tecnológico dos programas avaliados e da área de maneira geral. Todo o processo de avaliação dos programas de pós-graduação leva em consideração as atividades do conjugado de Docentes e Discentes. (Capes, 2016).

Abaixo apresenta-se a forma de avaliação e cada peso dos respectivos quesitos avaliados na área de Ciências Biológicas I.

![Critérios de Avaliação em Biológicas I.](/home/mustella/Repository/DataScience/DS4A-BioAni-BioMic-BioMol-PatMol-master/Bio1.png)

As propostas do programa avaliado devem deixar claro e de forma objetiva os fins, as áreas de concentração e as linhas de pesquisa. As áreas de concentração devem refletir as áreas de especialização do seu corpo docente e refletir sobre as projeções futuras do programa. Os programas devem ter uma base concreta em seu núcleo de docentes permanentes para se garantir o total desenvolvimento das atividades de ensino, pesquisa e orientação do programa (Capes, 2016).

Os Programas devem debater e promover o oferecimento de disciplinas com conteúdo programático relacionados com conhecimento das linhas de pesquisa oferecidas pelo programa e de áreas relacionadas que podem promover um desenvolvimento maior. Linhas de pesquisa não atualizadas devem ser reavaliadas, como incentivo à formação interdisciplinar e multidisciplinar do discente e isto que torna a relação entre os programas possível (Capes, 2016).

### ** Biologia Animal

Os programas de pós-graduação da CB I foram norteados, no Coleta 2016, a reavaliar e sintetizar as propostas do programa em pós-graduação em seus vários aspectos, descrevendo as alterações que aconteceram e os efeitos muito significativos que afetaram sua qualidade. Os programas de pós-graduação  ainda descreveram mudanças no seu Corpo Docente, nas Disciplinas, além das diretrizes e discernimentos das deliberações adotadas. As propostas dos Programas demostraram a assiduidade e também extensão da grande amplitude de Linhas de Pesquisa e Multidisciplinaridade particularidades da CB I, englobando as seguintes áreas: Genética (Humana, Animal, Vegetal e de Microrganismos); Biologia Geral (Comparada, Estrutural, Funcional, Toxicologia); Biologia Molecular; Biologia Celular; Biologia do Desenvolvimento; Bioinformática e Biologia de Sistemas. A área de Bioinformática mostrou ampliação na maioria dos programas de pós-graduação acontecendo um impacto destaque do edital de Biologia Computacional. Todas as propostas foram avaliadas adequadas. Contudo, em alguns programas de pós-graduação, houve precisão de readequações que foram assinaladas nos pareceres específicos (Capes, 2017).

As propostas do Programa são bem formuladas e descrevem de maneira satisfatória as suas particularidades mais importantes. Os objetivos expostos são claros e coerentes com o perfil acadêmico dos programas. A análise minudenciada da Proposta, em relação aos programas da área CBI, corroborou que o Programa avaliado apresentara desempenhos considerados bons. A observação delineada do perfil, adequação, distribuição de atividades e dedicação dos docentes no quadriênio, em relação aos programas da área CBI, demonstrou que o Programa analisados ofereceram desempenho positivo (Capes, 2017).

A importância da qualidade da formação acadêmica e da produção científica são objetivos prioritários das ações da CB I. Esse atributo pode ser aferido por meio de indicadores que vêm sendo aprimorados no conjunto internacional, e também no sistema CAPES de avaliação. O enfoco fundamental da produção científica na CB I é artigo em periódico. Essa produção cogita a qualidade da área que tem consideração internacional. (Capes, 2017).

“Os limites dos estratos do QUALIS têm sido crescentes na última década e neste quadriênio atingiram patamares elevados, comparáveis à produção qualificada de pesquisadores internacionais. Há ainda Programas que não atingiram os patamares de produção científica da área, além da distribuição heterogênea da produção entre os docentes do NP. Isso é reflexo natural do estágio de desenvolvimento e consolidação dos PPGs.” (Capes, 2017).

A análise particularizada do desenvolvimento científico e técnica do NP no quadriênio e sua repartição entre os docentes em relação aos programas da área CBI corroborou que os Programas analisados proporcionaram desempenho avaliado positivamente (Capes, 2017).

Esse programa apresenta relevância regional, nacional e/ou internacional evidenciada por convênios, parcerias interinstitucionais. Nele notam-se formidáveis impactos tecnológicos, com o desenvolvimento de novas técnicas, produtos e metodologias. Os impactos em nível regional têm acontecido por meio das ações de extensão, com destaque para projetos na área da educação. O programa tem destacado esforços na exposição da ciência ao público leigo. O programa também buscado integrar discentes do ensino médio as pesquisas estimulando-os e fornecendo bolsas. Ele possui relevância regional e/ou nacional, adotando como base as pesquisas desenvolvidas pelos corpos docente e discente. A proposta destaca o papel do Programa na formação de recursos humanos especializados com potencial para desempenhar funções em órgãos públicos e privados (Capes, 2017).

### ** Biologia Molecular

No levantamento de 2017 o número de discentes para o Programa de Pós-Graduação em Biologia Molecular foi de 4.781 alunos sendo 2.863 de Mestrado e 1.918 de Doutorado; dos docentes, 27 são permanentes e 11 são colaboradores. As linhas de pesquisa seguem vertentes definidas: Genética (Humana, Animal, Vegetal e de Microrganismos); Biologia Geral (Comparada, Estrutural, Funcional, Toxicologia), que pleiteia áreas descritivas e experimentais de forma geral; Biologia Molecular, que estuda experimentalmente e teoricamente processos biológicos a nível molecular e atômico; Biologia Celular, que estuda o funcionamento da célula como um todo, ou de cada um de seus aparatos; Biologia do Desenvolvimento, que estuda a formação de organismos, dos mais simples aos complexos; Bioinformática, que delineia e gera modelos para padrões de expressão ou estuda dinâmicas moleculares; Biologia de Sistemas, que estuda a interação e a formação dos sistemas para organismos vivos. Os projetos de pesquisa do programa seguem diversas vertentes, desde a neuropsicológica até a física da interação de moléculas. Dos diversos projetos, há o enfoque em bioinformática que foca em simulações e modelagens e em biologia molecular, que estuda experimentalmente a interação entre biomoléculas.

A última avaliação quadrienal fomenta a progressão do PPG em Biologia Molecular, frisando as modificações que ocorreram no corpo docente, que alterou as tomadas de decisões e impactos na produção científica - positivamente - em relação a avaliação anterior. A avaliação mostra em seu resultado que os recursos obtidos pelos os docentes foram oriunda de procura a agencias de fomento à pesquisa. O conjunto de disciplinas apresentado, segundo a avaliação, é de acordo com a proposta, tangenciando o conhecimento necessário para a formação acadêmica do indivíduo de forma abrangente e consistente. A avaliação também frisa a presença de Double-Degrees com universidades estado unidenses e doutorados sanduíche com outras diversas instituições internacionais.

Quanto ao corpo docente em geral, o número destes se manteve significativamente constante em relação ao triênio anterior, tanto na quantidade de permanentes quanto a de associados. Não houve mudança significativa na composição destes, nem na abrangência de áreas - o que não desqualificou estes docentes quanto a sua adequação a proposta do programa. A avaliação do corpo docente fomentou que o número de bolsistas de produtividade diminuiu em relação a avaliação do triênio anterior. A proporção ode orientados em mestrado e doutorado é de aproximadamente um para um, onde o número mediano de orientados de mestrado e doutorado para cada orientador é o mesmo.

A avaliação dos discentes demonstrou que houve um aumento na matrícula e formação de doutores e a diminuição dos mesmos para mestrado em relação ao triênio anterior. A maioria dos professores orienta menos que doze alunos, sendo que um quinto dos docentes orienta somente um aluno. Alunos que publicam com em estratos de revistas de A1 a B1 tem em ao menos metade das vezes, a participação de um professor conjuntamente. Houve também discentes ganhadores de prêmios dentro desta PPG.

A avaliação da produção intelectual evidenciou claramente a melhoria da qualidade do conteúdo publicado pelos docentes e discentes do PPG como um todo. Onde cerca de três quartos de todos os artigos publicados por participantes desta PPG tiveram avaliação Qualis superior a B2. Toda esta produção de conhecimento resulta na valorização internacional desta área de conhecimento de de seus participantes.

O impacto social mais evidente avaliado foi a criação de novas ferramentas e métodos que auxiliam na mudança de paradigma do cientista da área, na qual, esta PPG vem contribuindo incessantemente - de acordo com a avaliação. É exaltada a participação de todos os docentes deste programa em intercâmbios para congressos, pesquisas e afins, que determina a importância regional, nacional e internacional que esta PPG tem sobre sua área de atuação, cooperando de forma eficaz com meios nacionais e internacionais a estar impelida na divulgação do conhecimento científico da área.

### Ciências Biológicas III

O programa de Pós-Graduação em Ciências Biológicas III compreende as seguintes áreas: Microbiologia, Imunologia e Parasitologia. Ela é considerada uma das mais tradicionais no Sistema Nacional de Pós-Graduação (SNPG), pois é desenvolvida a mais de 50 anos. Um fato importante sobre esta área é que ela aumenta de forma branda, pelo fato de apresentar uma dura avaliação das propostas dos cursos novos. Um desses quesitos é que haja uma semelhança entre as atividades propostas pelos cursos novos com os que já estão na área. Isso fez com que demorasse por volta de 15 anos para dobrar o número de programas, que passou de 18 para 36 programas em 2016 (Capes, 2016).

Essa área é muito voltada, desde o século XIX, para a proposta de soluções para epidemias e pandemias. Continuamente, no século passado o Brasil já apresentava uma qualidade e quantidade de produções cientificas para solução de doenças tropicais principalmente nas áreas de Patologia e doenças Infecciosas e Parasitarias. Além disso, a área apresenta ótima visibilidade no cenário internacional, onde há projetos e publicações interdisciplinares que ajudam na expansão das pesquisas e tem um impacto muito bom na produção intelectual, visto que, essa interdisciplinaridade é muito importante para entender as metodologias para o progresso da área (Capes, 2016).

Os referentes de maior peso da Ficha de Avaliação dos programas de Pós-Graduação na área de Ciências Biológicas III constituem-se dos tópicos: Corpo Docente, Corpo Discente, Teses, Dissertações e Produção Intelectual. De maneira que se busque o desenvolvimento acadêmico e tecnológico dos programas avaliados e da área de maneira geral. Todo o processo de avaliação dos programas de pós-graduação leva em consideração as atividades do conjugado de Docentes e Discentes (Capes, 2016).

Abaixo apresenta-se a forma de avaliação e cada peso dos respectivos quesitos avaliados na área de Ciências Biológicas III para os programas de mestrado acadêmico, doutorado e mestrado profissional.

![Critérios de Avaliação em Biológicas III.](/home/mustella/Repository/DataScience/DS4A-BioAni-BioMic-BioMol-PatMol-master/Bio3.png)

### ** Biologia Microbiana

O programa de pós-graduação (mestrado e doutorado) em Biologia Microbiana pertence a área de Ciências Biológicas I. Este programa foi criado em 2012 na Universidade de Brasília. Suas áreas de pesquisa são – Biologia dos Patógenos, Microbiologia Ambiental e Microbiologia Aplicada – com um foco maior para a linha de Biologia dos Patógenos, apresentando 23 projetos dos 46 desta área. O corpo docente conta com 18 professores permanentes e 3 colaboradores, com diversos graus de experiência. Todos eles são doutores e possuem formações dentro e fora do Brasil. Suas formações são compatíveis com a área em que atuam e suas linhas de pesquisa. Entretanto, somente 11 docentes permanentes orientaram dissertações e teses nesse quadriênio, o que é ruim visto que a área possui 19 docentes permanentes. Há 11 docentes que são pesquisadores de produtividade do CNPq, sendo que 7 deles contem bolsa nível de 1 e 4 deles contem bolsa nível 2. As disciplinas ofertadas pelos discentes possuem um aspecto de diversidade e multidisciplinaridade que são características desta área de formação (Capes, 2017).

No que se refere a quantidade de formandos no quatriênio em questão, formou-se 20 alunos do mestrado e 4 do doutorado e foi produzido uma média de 20 artigos com discentes. Esses números são considerados baixos em relação aos outros programas, visto que, é um curso novo de pós-graduação na universidade. Além disso, há uma porcentagem de 42,5% de mestrandos formados em relação ao número de mestrandos matriculados, o que é considerado muito bom. A perspectiva de formação para esses docentes é muito boa, pois eles já são incorporados ao mercado de trabalho ou ingressam diretamente no doutorado (Capes, 2017). “Com a recente criação do curso de doutorado, este programa terá um impacto regional importante na formação de recursos humanos de alta qualidade que poderão atuar como docentes, pesquisadores ou profissionais da área de microbiologia.” (Capes, 2017).

A produção cientifica em periódicos ficou com uma quantidade (193) e qualidade muito boas, sendo a produção, entorno de, 39 extratos A1+A2 e 81 nos extratos A1+A2+B1. É importante frisar que a produção de artigos é produzida em sua maior parte pelos docentes permanentes, porem a produção feita pelos colaboradores não fica muito atrás e possui um peso considerável na produção do programa, apresentando 40 de um total de 233 artigos. A produção de capitulo de livros dos discentes e participação em patente é boa, apontando para 33 capítulos de livros e uma participação em patente feita (Capes, 2017).

### ** Patologia Molecular

O Programa de Pós-Graduação da Universidade de Brasília em Patologia Molecular, tem perspectivas de desenvolvimento incluindo a capacitação dos docentes, dos discentes e colaboradores internacionais. Esse programa tem uma linha multidisciplinar ligado à área da saúde. Eles vêm implementando medidas para aumentar as exigências na produção cientifica para contratação de orientadores e possuem uma boa infraestrutura para garantir o desenvolvimento do programa. O Programa contêm 3 áreas de conhecimento que contou com cerca de 20 projetos no período. A maioria dos projetos foram financiados e possuem quase a totalidade de docentes permanentes em sua elaboração. Sendo 11 deles da área de Biologia Molecular e desses 11, 3 deles são pertencentes também ao Programa de Biotecnologia e Biodiversidade (Capes, 2017).

Em relação ao corpo docente o programa apresentou por volta de 20 docentes permanentes e 5 docentes colaboradores. Todos eles possuem doutorado e pertencem a diversas áreas do conhecimento, como: Morfologia, Bioquímica, Medicina, Genética, entre outros. E possuem formação em instituições nacionais e internacionais. Cerca de 76% deles são bolsistas produtividade CNPq, que são distribuídos nos níveis 1A até 1D, nível 2 e bolsa DTI2. Já o corpo discente contou com 37 mestre e 35 doutores formados, que foram orientados por 17 docentes permanentes da área. Somente 3 discentes colaborativos não tiveram orientados no período, mas apresentam formações em andamento. A produção em artigos com Qualis A1-B1 foi de 128, sendo 53% dos artigos em Qualis A1,A2 e B1 e 40% em artigos Qualis B2 a B5. O tempo de formação dos discentes também foi muito boa em relação ao período anterior, apresentando uma redução no tempo médio de titulação (Capes, 2017).

A produção intelectual dos docentes permanentes neste período foi de 266 artigos, sendo 66% deles em Qualis A1, A2 e B1 e 34% deles em Qualis B2 a B5. Em comparação com o quadriênio anterior houve uma melhora considerável na produção do programa e a pontuação por docente ficou em torno de 697 pontos. Os capitulo de livros tiveram uma pontuação de 315, o que é considerado muito bom para o programa. Destaca-se que todos os docentes permanentes possuem publicações qualificadas no período em questão e que 8 patentes da área ganharam 510 pontos (Capes, 2017).

Já ao que se refere a inserção social o programa tem um bom número de doutores deste programa participando dos cursos de graduação e pós-graduação. Vários dos professores participam do programa Reuni e trabalham em órgãos públicos como:  Secretaria de Educação do Distrito Federal, Agência do Meio Ambiente do Estado de Goiás, Ministérios, entre outros. Além do mais, é importante destacar que alguns destes docentes participam do programa de mestrado profissional em ensino de biologia em rede nacional (PROFBIO), que tem por objetivo a qualificação do professor de biologia do ensino básico. O programa ainda possui muitas colaborações nacionais e internacionais e alguns intercâmbios internacionais feitos por pós-doutorandos da área (Capes, 2017).

##Captura dos dados: Definindo bancos de dados para as PPGs a partir de arquivos JSON e CSV:

Aqui define-se todas as variáveis base que contém todos os dados utilizados para a realização deste trabalho. Este código estará explícito logo abaixo para demonstrar que utilizou-se dos perfis, dos dados de publicações e orientações de cada um dos docentes. Além disso utilizou-se dados de correlação para a geração de um grafo de correlação ao fim deste trabalho.

```{r, warning=FALSE, message=FALSE}
library(jsonlite) #Importado para carga dos arquivos JSON para o R
# Perfis
perfil.240 <- fromJSON("240BiologiaAnimal/240profile.json")
perfil.242 <- fromJSON("242BiologiaMicrobiana/242profile.json")
perfil.243 <- fromJSON("243BiologiaMolecular/243profile.json")
perfil.313 <- fromJSON("313PatologiaMolecular/313profile.json")
# Publicações
public.240 <- fromJSON("240BiologiaAnimal/240publication.json")
public.242 <- fromJSON("242BiologiaMicrobiana/242publication.json")
public.243 <- fromJSON("243BiologiaMolecular/243publication.json")
public.313 <- fromJSON("313PatologiaMolecular/313publication.json")
# Orientações
orient.240 <- fromJSON("240BiologiaAnimal/240advise.json")
orient.242 <- fromJSON("242BiologiaMicrobiana/242advise.json")
orient.243 <- fromJSON("243BiologiaMolecular/243advise.json")
orient.313 <- fromJSON("313PatologiaMolecular/313advise.json")
# Grafos
graphl.240 <- fromJSON("240BiologiaAnimal/240graph.json")
graphl.242 <- fromJSON("242BiologiaMicrobiana/242graph.json")
graphl.243 <- fromJSON("243BiologiaMolecular/243graph.json")
graphl.313 <- fromJSON("313PatologiaMolecular/313graph.json")
# Todas PPGs
df.prog <- read.table("UnBPosGeral/prof_prog.csv", sep = ",", 
                      colClasses = "character", encoding = "UTF-8", header = TRUE)
```
##CRISP-DM Fase 2 - Entendimento dos Dados

A segunda parte do CRISP-DM consiste no entendimento dos dados. Para realizar análises significativas
com os __datasets__ disponíveis, é essencial ter um bom entendimento sobre a forma que estão organizados. 

Os arquivos utilizados são provenientes da plataforma Elattes e compilam informações sobre aa produção científica dos professores do __Programa de Pós-graduação em Biologia Animal__ no período de 2010 a 2017.

Os __datasets__ que serão trabalhados consistem em: perfil profissional; orientações de mestrado e doutorado realizadas; produções bibliográficas e redes de colaboração entre os pesquisadores.

###Arquivos Analisados

Os arquivos com informações sobre os pesquisadores do Programa de __Biologia Animal__:

* __240BiologiaAnimal/240profile.json__: apresenta dados sobre o __perfil__ de todos os pesquisadores.

* __240BiologiaAnimal/240publication.json__: apresenta dados sobre as __publicações__ e __produções bibliográficas__ geradas por todos os pesquisadores.

* __240BiologiaAnimal/240advise.json__: apresenta dados sobre __orientações de mestrado e doutorado__ feitas por todos os pesquisadores.

* __240BiologiaAnimal/240graph.json__: apresenta dados sobre __produções bibliográficas coolaborativas__ feitas entre os pesquisadores.


###Análise estrutural dos dados

Para continuar com as análises, as seguintes bibliotecas são selecionadas:

```{r, warning=FALSE, message=FALSE,error=FALSE}
#library(tidyverse) #Importado para manipulação de tibbles
library(listviewer) #Importado para análise dos arquivos JSON
library(igraph) #Importado para manipulação de grafo
library(dplyr) #Importado para uso do Operador Pipe
library(tidyr) #Importado para uso da função spread()
library(ggplot2) #Importado para visualizações com ggplot()
library(stringr) #Importado para manipulações de strings
setwd("~/Repository/DataScience/DS4A-BioAni-BioMic-BioMol-PatMol-master")
source("elattes.ls2df.R")
```

Após a importação e definição das bibliotecas utilizadas, podemos utilizar funções de tais pacotes para análise sistêmica dos dados, mas para isto, estes deves sem primeiramente descritos por meio de funções de descrição do pacote `dplyr` que facilita a visualização e manipulação dos dados:

```{r Separação do df.prog, message=FALSE, warning=FALSE, include=FALSE, paged.print=FALSE}
df.prog <- df.prog %>% separate(idLattes.Docente.Categoria.Grande.Area.Area.de.Avaliacao.Codigo.AreaPos.Programa,
                     c("idLattes", "Docente", "Categoria", "GrandeArea", "AreaDeAvaliacao", "Codigo", "AreaPos", "Programa"),
                     sep = ";", extra = "drop", fill = "right")
```

*Número de docentes na base e a construção das listas dos mesmos:*
```{r Número de docentes, echo=FALSE, message=FALSE, warning=FALSE}
print(c('Biologia Animal:',length(perfil.240)),quote=FALSE)
ProfileList.240 <- list()
for (i in 1:length(perfil.240)) {
  ProfileList.240 <- rbind(ProfileList.240, perfil.240[[i]]$nome)
}
print(c('Biologia Microbiana:',length(perfil.242)),quote=FALSE)
ProfileList.242 <- list()
for (i in 1:length(perfil.242)) {
  ProfileList.242 <- rbind(ProfileList.242, perfil.242[[i]]$nome)
}
print(c('Biologia Molecular:',length(perfil.243)),quote=FALSE)
ProfileList.243 <- list()
for (i in 1:length(perfil.243)) {
  ProfileList.243 <- rbind(ProfileList.243, perfil.243[[i]]$nome)
}
print(c('Patologia Molecular:',length(perfil.313)),quote=FALSE)
ProfileList.313 <- list()
for (i in 1:length(perfil.313)) {
  ProfileList.313 <- rbind(ProfileList.313, perfil.313[[i]]$nome)
}
```

### Análise das listas:
*Número de áreas de atuação cumulativas:*
```{r echo=FALSE, message=TRUE, warning=TRUE}
print(c('Biologia Animal:',sum(sapply(perfil.240, function(x) nrow(x$areas_de_atuacao)))),quote=FALSE)
print(c('Biologia Microbiana:',sum(sapply(perfil.242, function(x) nrow(x$areas_de_atuacao)))),quote=FALSE)
print(c('Biologia Moleular:',sum(sapply(perfil.243, function(x) nrow(x$areas_de_atuacao)))),quote=FALSE)
print(c('Patologia Molecular:',sum(sapply(perfil.313, function(x) nrow(x$areas_de_atuacao)))),quote=FALSE)
```

*Numero de areas de atuacao por pessoa*
```{r echo=FALSE, paged.print=FALSE}
print('Biologia Animal:', quote=FALSE)
print.table(table(unlist(sapply(perfil.240, function(x) nrow(x$areas_de_atuacao)))),quote=FALSE)
print('Biologia Microbiana:', quote=FALSE)
print.table(table(unlist(sapply(perfil.242, function(x) nrow(x$areas_de_atuacao)))),quote=FALSE)
print('Biologia Molecular:', quote=FALSE)
print.table(table(unlist(sapply(perfil.243, function(x) nrow(x$areas_de_atuacao)))),quote=FALSE)
print('Patologia Molecular:', quote=FALSE)
print.table(table(unlist(sapply(perfil.313, function(x) nrow(x$areas_de_atuacao)))),quote=FALSE)
```

*Numero de pessoas por grande area*
```{r Pessoas por grande área, echo=FALSE, message=FALSE, warning=FALSE}
print('Biologia Animal:', quote=FALSE); table(unlist(sapply(perfil.240, function(x) (x$areas_de_atuacao$grande_area))))
print('Biologia Microbiana:', quote=FALSE); table(unlist(sapply(perfil.242, function(x) (x$areas_de_atuacao$grande_area))))
print('Biologia Molecular:', quote=FALSE); table(unlist(sapply(perfil.243, function(x) (x$areas_de_atuacao$grande_area))))
print('Patologia Molecular:', quote=FALSE); table(unlist(sapply(perfil.313, function(x) (x$areas_de_atuacao$grande_area))))
```

*Numero de pessoas que produziram os especificos tipos de producao*
```{r produção por tipo por pessoa, echo=FALSE, message=FALSE, warning=FALSE}
print('Biologia Animal:', quote=FALSE);table(unlist(sapply(perfil.240, function(x) names(x$producao_bibiografica))))
print('Biologia Microbiana:', quote=FALSE);table(unlist(sapply(perfil.242, function(x) names(x$producao_bibiografica))))
print('Biologia Molecular:', quote=FALSE);table(unlist(sapply(perfil.243, function(x) names(x$producao_bibiografica))))
print('Patologia Molecular:', quote=FALSE); table(unlist(sapply(perfil.313, function(x) names(x$producao_bibiografica))))
```

*Numero de publicacoes por tipo*
```{r produção por tipo geral, echo=FALSE, message=FALSE, warning=FALSE}
print('------ Biologia Animal:', quote=FALSE)
  print(c('Artigos Aceitos:',sum(sapply(perfil.240, function(x) length(x$producao_bibiografica$ARTIGO_ACEITO$ano)))),quote=FALSE)
  print(c('Capítulos de livros:',sum(sapply(perfil.240, function(x) length(x$producao_bibiografica$CAPITULO_DE_LIVRO$ano)))),quote=FALSE)
  print(c('Livros:',sum(sapply(perfil.240, function(x) length(x$producao_bibiografica$LIVRO$ano)))),quote=FALSE)
  print(c('Periódicos:',sum(sapply(perfil.240, function(x) length(x$producao_bibiografica$PERIODICO$ano)))),quote=FALSE)
  print(c('Textos em jornais:',sum(sapply(perfil.240, function(x) length(x$producao_bibiografica$TEXTO_EM_JORNAIS$ano)))),quote=FALSE)

print('------ Biologia Microbiana:', quote=FALSE)
  print(c('Artigos Aceitos:',sum(sapply(perfil.242, function(x) length(x$producao_bibiografica$ARTIGO_ACEITO$ano)))),quote=FALSE)
  print(c('Capítulos de livros:',sum(sapply(perfil.242, function(x) length(x$producao_bibiografica$CAPITULO_DE_LIVRO$ano)))),quote=FALSE)
  print(c('Livros:',sum(sapply(perfil.242, function(x) length(x$producao_bibiografica$LIVRO$ano)))),quote=FALSE)
  print(c('Periódicos:',sum(sapply(perfil.242, function(x) length(x$producao_bibiografica$PERIODICO$ano)))),quote=FALSE)
  print(c('Textos em jornais:',sum(sapply(perfil.242, function(x) length(x$producao_bibiografica$TEXTO_EM_JORNAIS$ano)))),quote=FALSE)
  
print('------ Biologia Molecular:', quote=FALSE)
  print(c('Artigos Aceitos:',sum(sapply(perfil.243, function(x) length(x$producao_bibiografica$ARTIGO_ACEITO$ano)))),quote=FALSE)
  print(c('Capítulos de livros:',sum(sapply(perfil.243, function(x) length(x$producao_bibiografica$CAPITULO_DE_LIVRO$ano)))),quote=FALSE)
  print(c('Livros:',sum(sapply(perfil.243, function(x) length(x$producao_bibiografica$LIVRO$ano)))),quote=FALSE)
  print(c('Periódicos:',sum(sapply(perfil.243, function(x) length(x$producao_bibiografica$PERIODICO$ano)))),quote=FALSE)
  print(c('Textos em jornais:',sum(sapply(perfil.243, function(x) length(x$producao_bibiografica$TEXTO_EM_JORNAIS$ano)))),quote=FALSE)

print('------ Patologia Molecular:', quote=FALSE)
  print(c('Artigos Aceitos:',sum(sapply(perfil.313, function(x) length(x$producao_bibiografica$ARTIGO_ACEITO$ano)))),quote=FALSE)
  print(c('Capítulos de livros:',sum(sapply(perfil.313, function(x) length(x$producao_bibiografica$CAPITULO_DE_LIVRO$ano)))),quote=FALSE)
  print(c('Livros:',sum(sapply(perfil.313, function(x) length(x$producao_bibiografica$LIVRO$ano)))),quote=FALSE)
  print(c('Periódicos:',sum(sapply(perfil.313, function(x) length(x$producao_bibiografica$PERIODICO$ano)))),quote=FALSE)
  print(c('Textos em jornais:',sum(sapply(perfil.313, function(x) length(x$producao_bibiografica$TEXTO_EM_JORNAIS$ano)))),quote=FALSE)
```

*Número de pessoas por quantitativo de produções por pessoa*
```{r pessoas quantitativo, echo=FALSE, message=FALSE, warning=FALSE}

print('------ Biologia Animal:', quote=FALSE)
  print(c('Artigos Aceitos:',table(unlist(sapply(perfil.240, function(x) length(x$producao_bibiografica$ARTIGO_ACEITO$ano))))),quote=FALSE)
  print(c('Capítulos de livros:',table(unlist(sapply(perfil.240, function(x) length(x$producao_bibiografica$CAPITULO_DE_LIVRO$ano))))),quote=FALSE)
  print(c('Livros:',table(unlist(sapply(perfil.240, function(x) length(x$producao_bibiografica$LIVRO$ano))))),quote=FALSE)
  print(c('Periódicos:',table(unlist(sapply(perfil.240, function(x) length(x$producao_bibiografica$PERIODICO$ano))))),quote=FALSE)
  print(c('Textos em jornais:',sum(sapply(perfil.240, function(x) length(x$producao_bibiografica$TEXTO_EM_JORNAIS$ano)))),quote=FALSE)

print('------ Biologia Microbiana:', quote=FALSE)
  print(c('Artigos Aceitos:',table(unlist(sapply(perfil.242, function(x) length(x$producao_bibiografica$ARTIGO_ACEITO$ano))))),quote=FALSE)
  print(c('Capítulos de livros:',table(unlist(sapply(perfil.240, function(x) length(x$producao_bibiografica$LIVRO$ano))))),quote=FALSE)
  print(c('Livros:',sum(sapply(perfil.242, function(x) length(x$producao_bibiografica$LIVRO$ano)))),quote=FALSE)
  print(c('Periódicos:',sum(sapply(perfil.242, function(x) length(x$producao_bibiografica$PERIODICO$ano)))),quote=FALSE)
  print(c('Textos em jornais:',table(unlist(sapply(perfil.240, function(x) length(x$producao_bibiografica$TEXTO_EM_JORNAIS$ano))))),quote=FALSE)
  
print('------ Biologia Molecular:', quote=FALSE)
  print(c('Artigos Aceitos:',table(unlist(sapply(perfil.243, function(x) length(x$producao_bibiografica$ARTIGO_ACEITO$ano))))),quote=FALSE)
  print(c('Capítulos de livros:',table(unlist(sapply(perfil.243, function(x) length(x$producao_bibiografica$CAPITULO_DE_LIVRO$ano))))),quote=FALSE)
  print(c('Livros:',table(unlist(sapply(perfil.243, function(x) length(x$producao_bibiografica$LIVRO$ano))))),quote=FALSE)
  print(c('Periódicos:',table(unlist(sapply(perfil.243, function(x) length(x$producao_bibiografica$PERIODICO$ano))))),quote=FALSE)
  print(c('Textos em jornais:',table(unlist(sapply(perfil.243, function(x) length(x$producao_bibiografica$TEXTO_EM_JORNAIS$ano))))),quote=FALSE)

print('------ Patologia Molecular:', quote=FALSE)
  print(c('Artigos Aceitos:',table(unlist(sapply(perfil.313, function(x) length(x$producao_bibiografica$ARTIGO_ACEITO$ano))))),quote=FALSE)
  print(c('Capítulos de livros:',table(unlist(sapply(perfil.313, function(x) length(x$producao_bibiografica$CAPITULO_DE_LIVRO$ano))))),quote=FALSE)
  print(c('Livros:',table(unlist(sapply(perfil.313, function(x) length(x$producao_bibiografica$LIVRO$ano))))),quote=FALSE)
  print(c('Periódicos:',table(unlist(sapply(perfil.313, function(x) length(x$producao_bibiografica$PERIODICO$ano))))),quote=FALSE)
  print(c('Textos em jornais:',table(unlist(sapply(perfil.313, function(x) length(x$producao_bibiografica$TEXTO_EM_JORNAIS$ano))))),quote=FALSE)
```

*Número de produções por ano*
```{r produções por ano, echo=FALSE, message=FALSE, warning=FALSE}

print('------ Biologia Animal:', quote=FALSE)
  print(c('Artigos Aceitos:',table(unlist(sapply(perfil.240, function(x) (x$producao_bibiografica$ARTIGO_ACEITO$ano))))),quote=FALSE)
  print(c('Capítulos de livros:',table(unlist(sapply(perfil.240, function(x) (x$producao_bibiografica$CAPITULO_DE_LIVRO$ano))))),quote=FALSE)
  print(c('Livros:',table(unlist(sapply(perfil.240, function(x) (x$producao_bibiografica$LIVRO$ano))))),quote=FALSE)
  print(c('Periódicos:',table(unlist(sapply(perfil.240, function(x) (x$producao_bibiografica$PERIODICO$ano))))),quote=FALSE)
  print(c('Textos em jornais:',table(unlist(sapply(perfil.240, function(x) (x$producao_bibiografica$TEXTO_EM_JORNAIS$ano))))),quote=FALSE)
  
print('------ Biologia Microbiana:', quote=FALSE)
  print(c('Artigos Aceitos:',table(unlist(sapply(perfil.242, function(x) (x$producao_bibiografica$ARTIGO_ACEITO$ano))))),quote=FALSE)
  print(c('Capítulos de livros:',table(unlist(sapply(perfil.242, function(x) (x$producao_bibiografica$CAPITULO_DE_LIVRO$ano))))),quote=FALSE)
  print(c('Livros:',table(unlist(sapply(perfil.242, function(x) (x$producao_bibiografica$LIVRO$ano))))),quote=FALSE)
  print(c('Periódicos:',table(unlist(sapply(perfil.242, function(x) (x$producao_bibiografica$PERIODICO$ano))))),quote=FALSE)
  print(c('Textos em jornais:',table(unlist(sapply(perfil.242, function(x) (x$producao_bibiografica$TEXTO_EM_JORNAIS$ano))))),quote=FALSE)
  
print('------ Biologia Molecular:', quote=FALSE)
  print(c('Artigos Aceitos:',table(unlist(sapply(perfil.243, function(x) (x$producao_bibiografica$ARTIGO_ACEITO$ano))))),quote=FALSE)
  print(c('Capítulos de livros:',table(unlist(sapply(perfil.243, function(x) (x$producao_bibiografica$CAPITULO_DE_LIVRO$ano))))),quote=FALSE)
  print(c('Livros:',table(unlist(sapply(perfil.243, function(x) (x$producao_bibiografica$LIVRO$ano))))),quote=FALSE)
  print(c('Periódicos:',table(unlist(sapply(perfil.243, function(x) (x$producao_bibiografica$PERIODICO$ano))))),quote=FALSE)
  print(c('Textos em jornais:',table(unlist(sapply(perfil.243, function(x) (x$producao_bibiografica$TEXTO_EM_JORNAIS$ano))))),quote=FALSE)

print('------ Patologia Molecular:', quote=FALSE)
  print(c('Artigos Aceitos:',table(unlist(sapply(perfil.313, function(x) (x$producao_bibiografica$ARTIGO_ACEITO$ano))))),quote=FALSE)
  print(c('Capítulos de livros:',table(unlist(sapply(perfil.313, function(x) (x$producao_bibiografica$CAPITULO_DE_LIVRO$ano))))),quote=FALSE)
  print(c('Livros:',table(unlist(sapply(perfil.313, function(x) (x$producao_bibiografica$LIVRO$ano))))),quote=FALSE)
  print(c('Periódicos:',table(unlist(sapply(perfil.313, function(x) (x$producao_bibiografica$PERIODICO$ano))))),quote=FALSE)
  print(c('Textos em jornais:',table(unlist(sapply(perfil.313, function(x) (x$producao_bibiografica$TEXTO_EM_JORNAIS$ano))))),quote=FALSE)
```

*Número de pessoas que realizaram diferentes tipos de orientações*
```{r}
print(c('Biologia Animal:',length(unlist(sapply(perfil.240, function(x) names(x$orientacoes_academicas))))), quote=FALSE)
print(c('Biologia Microbiana:',length(unlist(sapply(perfil.242, function(x) names(x$orientacoes_academicas))))), quote=FALSE)
print(c('Biologia Molecular:',length(unlist(sapply(perfil.243, function(x) names(x$orientacoes_academicas))))), quote=FALSE)
print(c('Patologia Molecular:',length(unlist(sapply(perfil.313, function(x) names(x$orientacoes_academicas))))), quote=FALSE)
```

*Número de pessoas por tipo de orientação*
```{r}
print(c('------ Biologia Animal:',table(unlist(sapply(perfil.240, function(x) names(x$orientacoes_academicas))))), quote=FALSE)
print(c('------ Biologia Microbiana:',table(unlist(sapply(perfil.242, function(x) names(x$orientacoes_academicas))))), quote=FALSE)
print(c('------ Biologia Molecular:',table(unlist(sapply(perfil.243, function(x) names(x$orientacoes_academicas))))), quote=FALSE)
print(c('------ Patologia Molecular:',table(unlist(sapply(perfil.313, function(x) names(x$orientacoes_academicas))))), quote=FALSE)
```

*Número de orientacões concluídas*
```{r}

print('------ Biologia Animal:', quote=FALSE)
  print(c('Orientações concluídas de mestrados:',sum(sapply(perfil.240, function(x) length(x$orientacoes_academicas$ORIENTACAO_CONCLUIDA_MESTRADO$ano)))),quote=FALSE)
  print(c('Orientações concluídas de doutorados:',sum(sapply(perfil.240, function(x) length(x$orientacoes_academicas$ORIENTACAO_CONCLUIDA_DOUTORADO$ano)))),quote=FALSE)
  print(c('Orientações concluídas de pós-doutores:',sum(sapply(perfil.240, function(x) length(x$orientacoes_academicas$ORIENTACAO_CONCLUIDA_POS_DOUTORADO$ano)))),quote=FALSE)

print('------ Biologia Microbiana:', quote=FALSE)
  print(c('Orientações concluídas de mestrados:',sum(sapply(perfil.242, function(x) length(x$orientacoes_academicas$ORIENTACAO_CONCLUIDA_MESTRADO$ano)))),quote=FALSE)
  print(c('Orientações concluídas de doutorados:',sum(sapply(perfil.242, function(x) length(x$orientacoes_academicas$ORIENTACAO_CONCLUIDA_DOUTORADO$ano)))),quote=FALSE)
  print(c('Orientações concluídas de pós-doutores:',sum(sapply(perfil.242, function(x) length(x$orientacoes_academicas$ORIENTACAO_CONCLUIDA_POS_DOUTORADO$ano)))),quote=FALSE)
  
print('------ Biologia Molecular:', quote=FALSE)
  print(c('Orientações concluídas de mestrados:',sum(sapply(perfil.243, function(x) length(x$orientacoes_academicas$ORIENTACAO_CONCLUIDA_MESTRADO$ano)))),quote=FALSE)
  print(c('Orientações concluídas de doutorados:',sum(sapply(perfil.243, function(x) length(x$orientacoes_academicas$ORIENTACAO_CONCLUIDA_DOUTORADO$ano)))),quote=FALSE)
  print(c('Orientações concluídas de pós-doutores:',sum(sapply(perfil.243, function(x) length(x$orientacoes_academicas$ORIENTACAO_CONCLUIDA_POS_DOUTORADO$ano)))),quote=FALSE)
  
print('------ Patologia Molecular:', quote=FALSE)
  print(c('Orientações concluídas de mestrados:',sum(sapply(perfil.313, function(x) length(x$orientacoes_academicas$ORIENTACAO_CONCLUIDA_MESTRADO$ano)))),quote=FALSE)
  print(c('Orientações concluídas de doutorados:',sum(sapply(perfil.313, function(x) length(x$orientacoes_academicas$ORIENTACAO_CONCLUIDA_DOUTORADO$ano)))),quote=FALSE)
  print(c('Orientações concluídas de pós-doutores:',sum(sapply(perfil.313, function(x) length(x$orientacoes_academicas$ORIENTACAO_CONCLUIDA_POS_DOUTORADO$ano)))),quote=FALSE)
```

*Número de pessoas por quantitativo de orientacões por pessoa*
```{r orientação quantitativo, echo=FALSE, message=FALSE, warning=FALSE}
print('------ Biologia Animal:', quote=FALSE)
  print(c('Orientações concluídas de mestrados:',table(unlist(sapply(perfil.240, function(x) length(x$orientacoes_academicas$ORIENTACAO_CONCLUIDA_MESTRADO$ano))))),quote=FALSE)
  print(c('Orientações concluídas de doutorados:',table(unlist(sapply(perfil.240, function(x) length(x$orientacoes_academicas$ORIENTACAO_CONCLUIDA_DOUTORADO$ano))))),quote=FALSE)
  print(c('Orientações concluídas de pós-doutores:',table(unlist(sapply(perfil.240, function(x) 
length(x$orientacoes_academicas$ORIENTACAO_CONCLUIDA_POS_DOUTORADO$ano))))),quote=FALSE)

print('------ Biologia Microbiana:', quote=FALSE)
  print(c('Orientações concluídas de mestrados:',table(unlist(sapply(perfil.242, function(x) length(x$orientacoes_academicas$ORIENTACAO_CONCLUIDA_MESTRADO$ano))))),quote=FALSE)
  print(c('Orientações concluídas de doutorados:',table(unlist(sapply(perfil.242, function(x) length(x$orientacoes_academicas$ORIENTACAO_CONCLUIDA_DOUTORADO$ano))))),quote=FALSE)
  print(c('Orientações concluídas de pós-doutores:',table(unlist(sapply(perfil.242, function(x) 
length(x$orientacoes_academicas$ORIENTACAO_CONCLUIDA_POS_DOUTORADO$ano))))),quote=FALSE)
  
print('------ Biologia Molecular:', quote=FALSE)
  print(c('Orientações concluídas de mestrados:',table(unlist(sapply(perfil.243, function(x) length(x$orientacoes_academicas$ORIENTACAO_CONCLUIDA_MESTRADO$ano))))),quote=FALSE)
  print(c('Orientações concluídas de doutorados:',table(unlist(sapply(perfil.243, function(x) length(x$orientacoes_academicas$ORIENTACAO_CONCLUIDA_DOUTORADO$ano))))),quote=FALSE)
  print(c('Orientações concluídas de pós-doutores:',table(unlist(sapply(perfil.243, function(x) 
length(x$orientacoes_academicas$ORIENTACAO_CONCLUIDA_POS_DOUTORADO$ano))))),quote=FALSE)
  
print('------ Patologia Molecular:', quote=FALSE)
  print(c('Orientações concluídas de mestrados:',table(unlist(sapply(perfil.313, function(x) length(x$orientacoes_academicas$ORIENTACAO_CONCLUIDA_MESTRADO$ano))))),quote=FALSE)
  print(c('Orientações concluídas de doutorados:',table(unlist(sapply(perfil.313, function(x) length(x$orientacoes_academicas$ORIENTACAO_CONCLUIDA_DOUTORADO$ano))))),quote=FALSE)
  print(c('Orientações concluídas de pós-doutores:',table(unlist(sapply(perfil.313, function(x) 
length(x$orientacoes_academicas$ORIENTACAO_CONCLUIDA_POS_DOUTORADO$ano))))),quote=FALSE)
```

*Número de orientações por ano*
```{r orientações por ano, message=FALSE, warning=FALSE}
print('------ Biologia Animal:', quote=FALSE)
  print(c('Orientações concluídas de mestrados:',table(unlist(sapply(perfil.240, function(x) (x$orientacoes_academicas$ORIENTACAO_CONCLUIDA_MESTRADO$ano))))),quote=FALSE)
  print(c('Orientações concluídas de doutorados:',table(unlist(sapply(perfil.240, function(x) (x$orientacoes_academicas$ORIENTACAO_CONCLUIDA_DOUTORADO$ano))))),quote=FALSE)
  print(c('Orientações concluídas de pós-doutores:',table(unlist(sapply(perfil.240, function(x) (x$orientacoes_academicas$ORIENTACAO_CONCLUIDA_POS_DOUTORADO$ano))))),quote=FALSE)

print('------ Biologia Microbiana:', quote=FALSE)
  print(c('Orientações concluídas de mestrados:',table(unlist(sapply(perfil.242, function(x) (x$orientacoes_academicas$ORIENTACAO_CONCLUIDA_MESTRADO$ano))))),quote=FALSE)
  print(c('Orientações concluídas de doutorados:',table(unlist(sapply(perfil.242, function(x) (x$orientacoes_academicas$ORIENTACAO_CONCLUIDA_DOUTORADO$ano))))),quote=FALSE)
  print(c('Orientações concluídas de pós-doutores:',table(unlist(sapply(perfil.242, function(x) (x$orientacoes_academicas$ORIENTACAO_CONCLUIDA_POS_DOUTORADO$ano))))),quote=FALSE)
  
print('------ Biologia Molecular:', quote=FALSE)
  print(c('Orientações concluídas de mestrados:',table(unlist(sapply(perfil.243, function(x) (x$orientacoes_academicas$ORIENTACAO_CONCLUIDA_MESTRADO$ano))))),quote=FALSE)
  print(c('Orientações concluídas de doutorados:',table(unlist(sapply(perfil.243, function(x) (x$orientacoes_academicas$ORIENTACAO_CONCLUIDA_DOUTORADO$ano))))),quote=FALSE)
  print(c('Orientações concluídas de pós-doutores:',table(unlist(sapply(perfil.243, function(x) (x$orientacoes_academicas$ORIENTACAO_CONCLUIDA_POS_DOUTORADO$ano))))),quote=FALSE)
```

```{r include=FALSE}
perfil.240.df.professores <- extrai.perfis(perfil.240)
perfil.242.df.professores <- extrai.perfis(perfil.242)
perfil.243.df.professores <- extrai.perfis(perfil.243)
perfil.313.df.professores <- extrai.perfis(perfil.313)
```

```{r include=FALSE}
perfil.240.df.publicacoes <- extrai.producoes(perfil.240) %>%
  select(tipo_producao, everything()) %>% arrange(tipo_producao)
perfil.240.df.publicacoes$tipo_producao[grepl("DEMAIS",perfil.240.df.publicacoes$tipo_producao)] <- "OUTRAS_PRODUCOES"
perfil.242.df.publicacoes <- extrai.producoes(perfil.242) %>%
  select(tipo_producao, everything()) %>% arrange(tipo_producao)
perfil.242.df.publicacoes$tipo_producao[grepl("DEMAIS",perfil.242.df.publicacoes$tipo_producao)] <- "OUTRAS_PRODUCOES"
perfil.243.df.publicacoes <- extrai.producoes(perfil.243) %>%
  select(tipo_producao, everything()) %>% arrange(tipo_producao)
perfil.243.df.publicacoes$tipo_producao[grepl("DEMAIS",perfil.243.df.publicacoes$tipo_producao)] <- "OUTRAS_PRODUCOES"
perfil.313.df.publicacoes <- extrai.producoes(perfil.313) %>%
  select(tipo_producao, everything()) %>% arrange(tipo_producao)
perfil.313.df.publicacoes$tipo_producao[grepl("DEMAIS",perfil.313.df.publicacoes$tipo_producao)] <- "OUTRAS_PRODUCOES"
```

```{r include=FALSE}
perfil.240.df.orientacoes <- extrai.orientacoes(perfil.240) %>%
  select(id_lattes_orientadores, natureza, ano, orientacao, everything()) %>%
  mutate(situacao = ifelse(grepl("CONCLUIDA", orientacao), "Concluída", "Em andamento")) %>%
  mutate(Natureza = case_when(grepl("MESTRADO", str_to_upper(natureza)) ~ "Mestrado",
                              grepl("PÓS-DOUTORADO", str_to_upper(natureza)) ~ "Pós-doutorado",
                              grepl("DOUTORADO", str_to_upper(natureza)) ~ "Doutorado",
                              grepl("INICIACAO", str_to_upper(natureza)) ~ "Iniciação Científica",
                              grepl("INICIAÇÃO", str_to_upper(natureza)) ~ "Iniciação Científica",
                              TRUE ~ "Outras naturezas"))
perfil.242.df.orientacoes <- extrai.orientacoes(perfil.242) %>%
  select(id_lattes_orientadores, natureza, ano, orientacao, everything()) %>%
  mutate(situacao = ifelse(grepl("CONCLUIDA", orientacao), "Concluída", "Em andamento")) %>%
  mutate(Natureza = case_when(grepl("MESTRADO", str_to_upper(natureza)) ~ "Mestrado",
                              grepl("PÓS-DOUTORADO", str_to_upper(natureza)) ~ "Pós-doutorado",
                              grepl("DOUTORADO", str_to_upper(natureza)) ~ "Doutorado",
                              grepl("INICIACAO", str_to_upper(natureza)) ~ "Iniciação Científica",
                              grepl("INICIAÇÃO", str_to_upper(natureza)) ~ "Iniciação Científica",
                              TRUE ~ "Outras naturezas"))
perfil.243.df.orientacoes <- extrai.orientacoes(perfil.243) %>%
  select(id_lattes_orientadores, natureza, ano, orientacao, everything()) %>%
  mutate(situacao = ifelse(grepl("CONCLUIDA", orientacao), "Concluída", "Em andamento")) %>%
  mutate(Natureza = case_when(grepl("MESTRADO", str_to_upper(natureza)) ~ "Mestrado",
                              grepl("PÓS-DOUTORADO", str_to_upper(natureza)) ~ "Pós-doutorado",
                              grepl("DOUTORADO", str_to_upper(natureza)) ~ "Doutorado",
                              grepl("INICIACAO", str_to_upper(natureza)) ~ "Iniciação Científica",
                              grepl("INICIAÇÃO", str_to_upper(natureza)) ~ "Iniciação Científica",
                              TRUE ~ "Outras naturezas"))
perfil.313.df.orientacoes <- extrai.orientacoes(perfil.313) %>%
  select(id_lattes_orientadores, natureza, ano, orientacao, everything()) %>%
  mutate(situacao = ifelse(grepl("CONCLUIDA", orientacao), "Concluída", "Em andamento")) %>%
  mutate(Natureza = case_when(grepl("MESTRADO", str_to_upper(natureza)) ~ "Mestrado",
                              grepl("PÓS-DOUTORADO", str_to_upper(natureza)) ~ "Pós-doutorado",
                              grepl("DOUTORADO", str_to_upper(natureza)) ~ "Doutorado",
                              grepl("INICIACAO", str_to_upper(natureza)) ~ "Iniciação Científica",
                              grepl("INICIAÇÃO", str_to_upper(natureza)) ~ "Iniciação Científica",
                              TRUE ~ "Outras naturezas"))
```

```{r include=FALSE}
perfil.240.df.areas.de.atuacao <- extrai.areas.atuacao(perfil.240) %>%
  select(idLattes, everything())
perfil.242.df.areas.de.atuacao <- extrai.areas.atuacao(perfil.242) %>%
  select(idLattes, everything())
perfil.243.df.areas.de.atuacao <- extrai.areas.atuacao(perfil.243) %>%
  select(idLattes, everything())
perfil.313.df.areas.de.atuacao <- extrai.areas.atuacao(perfil.313) %>%
  select(idLattes, everything())        
```

*Cria arquivo com dados quantitativos para análise*
```{r echo=FALSE}
perfil.240.df <- data.frame()
perfil.240.df <- perfil.240.df.professores %>% 
  select(idLattes, nome, resumo_cv, senioridade) %>% 
  left_join(
    perfil.240.df.orientacoes %>% 
      select(orientacao, idLattes) %>% 
      filter(!grepl("EM_ANDAMENTO", orientacao)) %>% 
      group_by(idLattes) %>% 
      count(orientacao) %>% 
      spread(key = orientacao, value = n), 
    by = "idLattes") %>% 
  left_join(
    perfil.240.df.publicacoes %>% 
      select(tipo_producao, idLattes) %>% 
      filter(!grepl("ARTIGO_ACEITO", tipo_producao)) %>% 
      group_by(idLattes) %>% 
      count(tipo_producao) %>% 
      spread(key = tipo_producao, value = n), 
    by = "idLattes") %>% 
  left_join(
    perfil.240.df.areas.de.atuacao %>% 
      select(area, idLattes) %>% 
      group_by(idLattes) %>% 
      summarise(num_areas = n_distinct(area)), 
    by = "idLattes") %>%
  mutate(num_areas = factor(num_areas))
perfil.240.df[is.na(perfil.240.df)] <- 0 #Remove NAs do dataframe

perfil.240.df.areas.de.atuacao <- perfil.240.df.areas.de.atuacao %>%
  left_join(perfil.240.df, by = "idLattes") %>%
  rowwise() %>% #realizar sum() corretamente
  mutate(orientacoes_concluidas = sum(ORIENTACAO_CONCLUIDA_DOUTORADO,
                                      ORIENTACAO_CONCLUIDA_POS_DOUTORADO, ORIENTACAO_CONCLUIDA_MESTRADO,
                                      OUTRAS_ORIENTACOES_CONCLUIDAS, na.rm = TRUE)) %>%
  mutate(publicacoes = sum(CAPITULO_DE_LIVRO, EVENTO, PERIODICO,
                           LIVRO, TEXTO_EM_JORNAIS, OUTRAS_PRODUCOES, na.rm = TRUE)) %>%
  select(idLattes, grande_area, area, sub_area, especialidade, orientacoes_concluidas, publicacoes)
class(perfil.240.df.areas.de.atuacao) <- c("tbl_df", "data.frame") #desfazer rowwise
print("Biologia Animal")
summary(perfil.240.df)
perfil.242.df <- data.frame()
perfil.242.df <- perfil.242.df.professores %>% 
  select(idLattes, nome, resumo_cv, senioridade) %>% 
  left_join(
    perfil.242.df.orientacoes %>% 
      select(orientacao, idLattes) %>% 
      filter(!grepl("EM_ANDAMENTO", orientacao)) %>% 
      group_by(idLattes) %>% 
      count(orientacao) %>% 
      spread(key = orientacao, value = n), 
    by = "idLattes") %>% 
  left_join(
    perfil.242.df.publicacoes %>% 
      select(tipo_producao, idLattes) %>% 
      filter(!grepl("ARTIGO_ACEITO", tipo_producao)) %>% 
      group_by(idLattes) %>% 
      count(tipo_producao) %>% 
      spread(key = tipo_producao, value = n), 
    by = "idLattes") %>% 
  left_join(
    perfil.242.df.areas.de.atuacao %>% 
      select(area, idLattes) %>% 
      group_by(idLattes) %>% 
      summarise(num_areas = n_distinct(area)), 
    by = "idLattes") %>%
  mutate(num_areas = factor(num_areas))
perfil.242.df[is.na(perfil.242.df)] <- 0 #Remove NAs do dataframe
perfil.242.df.areas.de.atuacao <- perfil.242.df.areas.de.atuacao %>%
  left_join(perfil.242.df, by = "idLattes") %>%
  rowwise() %>% #realizar sum() corretamente
  mutate(orientacoes_concluidas = sum(ORIENTACAO_CONCLUIDA_DOUTORADO,
                                      ORIENTACAO_CONCLUIDA_POS_DOUTORADO, ORIENTACAO_CONCLUIDA_MESTRADO,
                                      OUTRAS_ORIENTACOES_CONCLUIDAS, na.rm = TRUE)) %>%
  mutate(publicacoes = sum(CAPITULO_DE_LIVRO, EVENTO, PERIODICO,
                           LIVRO, TEXTO_EM_JORNAIS, OUTRAS_PRODUCOES, na.rm = TRUE)) %>%
  select(idLattes, grande_area, area, sub_area, especialidade, orientacoes_concluidas, publicacoes)
class(perfil.242.df.areas.de.atuacao) <- c("tbl_df", "data.frame") #desfazer rowwise
print("Biologia Microbiana")
summary(perfil.242.df)

perfil.243.df <- data.frame()
perfil.243.df <- perfil.243.df.professores %>% 
  select(idLattes, nome, resumo_cv, senioridade) %>% 
  left_join(
    perfil.243.df.orientacoes %>% 
      select(orientacao, idLattes) %>% 
      filter(!grepl("EM_ANDAMENTO", orientacao)) %>% 
      group_by(idLattes) %>% 
      count(orientacao) %>% 
      spread(key = orientacao, value = n), 
    by = "idLattes") %>% 
  left_join(
    perfil.243.df.publicacoes %>% 
      select(tipo_producao, idLattes) %>% 
      filter(!grepl("ARTIGO_ACEITO", tipo_producao)) %>% 
      group_by(idLattes) %>% 
      count(tipo_producao) %>% 
      spread(key = tipo_producao, value = n), 
    by = "idLattes") %>% 
  left_join(
    perfil.243.df.areas.de.atuacao %>% 
      select(area, idLattes) %>% 
      group_by(idLattes) %>% 
      summarise(num_areas = n_distinct(area)), 
    by = "idLattes") %>%
  mutate(num_areas = factor(num_areas))
perfil.243.df[is.na(perfil.243.df)] <- 0 #Remove NAs do dataframe
perfil.243.df.areas.de.atuacao <- perfil.243.df.areas.de.atuacao %>%
  left_join(perfil.243.df, by = "idLattes") %>%
  rowwise() %>% #realizar sum() corretamente
  mutate(orientacoes_concluidas = sum(ORIENTACAO_CONCLUIDA_DOUTORADO,
                                      ORIENTACAO_CONCLUIDA_POS_DOUTORADO, ORIENTACAO_CONCLUIDA_MESTRADO,
                                      OUTRAS_ORIENTACOES_CONCLUIDAS, na.rm = TRUE)) %>%
  mutate(publicacoes = sum(CAPITULO_DE_LIVRO, EVENTO, PERIODICO,
                           LIVRO, TEXTO_EM_JORNAIS, OUTRAS_PRODUCOES, na.rm = TRUE)) %>%
  select(idLattes, grande_area, area, sub_area, especialidade, orientacoes_concluidas, publicacoes)
class(perfil.243.df.areas.de.atuacao) <- c("tbl_df", "data.frame") #desfazer rowwise
print("Biologia Molecular")
summary(perfil.243.df)
perfil.313.df <- data.frame()
perfil.313.df <- perfil.313.df.professores %>% 
  select(idLattes, nome, resumo_cv, senioridade) %>% 
  left_join(
    perfil.313.df.orientacoes %>% 
      select(orientacao, idLattes) %>% 
      filter(!grepl("EM_ANDAMENTO", orientacao)) %>% 
      group_by(idLattes) %>% 
      count(orientacao) %>% 
      spread(key = orientacao, value = n), 
    by = "idLattes") %>% 
  left_join(
    perfil.313.df.publicacoes %>% 
      select(tipo_producao, idLattes) %>% 
      filter(!grepl("ARTIGO_ACEITO", tipo_producao)) %>% 
      group_by(idLattes) %>% 
      count(tipo_producao) %>% 
      spread(key = tipo_producao, value = n), 
    by = "idLattes") %>% 
  left_join(
    perfil.313.df.areas.de.atuacao %>% 
      select(area, idLattes) %>% 
      group_by(idLattes) %>% 
      summarise(num_areas = n_distinct(area)), 
    by = "idLattes") %>%
  mutate(num_areas = factor(num_areas))
perfil.313.df[is.na(perfil.313.df)] <- 0 #Remove NAs do dataframe
perfil.313.df.areas.de.atuacao <- perfil.313.df.areas.de.atuacao %>%
  left_join(perfil.313.df, by = "idLattes") %>%
  rowwise() %>% #realizar sum() corretamente
  mutate(orientacoes_concluidas = sum(ORIENTACAO_CONCLUIDA_DOUTORADO,
                                      ORIENTACAO_CONCLUIDA_POS_DOUTORADO, ORIENTACAO_CONCLUIDA_MESTRADO,
                                      OUTRAS_ORIENTACOES_CONCLUIDAS, na.rm = TRUE)) %>%
  mutate(publicacoes = sum(CAPITULO_DE_LIVRO, EVENTO, PERIODICO,
                           LIVRO, TEXTO_EM_JORNAIS, OUTRAS_PRODUCOES, na.rm = TRUE)) %>%
  select(idLattes, grande_area, area, sub_area, especialidade, orientacoes_concluidas, publicacoes)
class(perfil.313.df.areas.de.atuacao) <- c("tbl_df", "data.frame") #desfazer rowwise
print("Patologia Molecular")
summary(perfil.313.df)
```

##CRISP-DM Fase 3 - Preparação dos Dados
A terceira fase do CRISP é conhecida por ser a parte de preparação dos dados. Tal fase possui como
característica a execução de atividades para construir o conjunto final de dados a partir dos dados brutos iniciais. 
Pode-se separar essa etapa em cinco momentos que serão descritos nessa seção.

• Seleção dos dados

• Limpeza dos dados

• Construção dos dados

• Integração dos dados

• Formatação dos dados

Na etapa de seleção dos dados a entrada é o conjunto de dados bruto e nela ocorre a decisão dos dados a serem usados para análise. Os critérios incluem relevância para as metas de mineração de dados, qualidade e restrições técnicas, como limites no volume de dados ou tipos de dados.
Então vem a fase da limpeza que recebe a seleção de dados úteis efetuada anteriormente e é efetuado um aumento na qualidade dos dados para o nível exigido pelas técnicas de análise selecionadas. Aqui pode haver o uso de técnicas mais elaboradas, como a estimativa de dados ausentes por modelagem e inserção de padrões adequados.

O terceiro passo é a construção dos dados. Essa tarefa inclui operações de preparação de dados construtivos, como a produção de atributos derivados, novos registros ou valores transformados para atributos existentes.
A penúltima atividade é a integração dos dados. Este é o momento no qual as informações são combinadas de vários bancos de dados, tabelas ou registros para criar novos registros ou valores.
Por fim, ocorre a tarefa de formatação dos dados, que é a realização de modificações na estrutura dos dados de forma que as operações planejadas possam ser efetuadas de forma conveniente.

Para tornar a análise mais fácil de ser feita e até mesmo para possibilitar a realização de comparações ao final, os mesmos procedimentos foram realizados para os três programas de pós-graduação. Além disso, é importante ressaltar que as variáveis e estruturas montadas foram nomeados de forma mnemônica permitindo a distinção de diferentes programas e aspectos, como orientações, publicações, entre outros.

###Análise dos dados no formato lista
*Número de Publicacoes em periódicos*
```{r echo=FALSE}
print(c('Biologia Animal:',sum(sapply(public.240$PERIODICO, function(x) length(x$natureza)))),quote=FALSE)
print(c('Biologia Microbiana:',sum(sapply(public.242$PERIODICO, function(x) length(x$natureza)))),quote=FALSE)
print(c('Biologia Molecular:',sum(sapply(public.243$PERIODICO, function(x) length(x$natureza)))),quote=FALSE)
print(c('Patologia Molecular:',sum(sapply(public.313$PERIODICO, function(x) length(x$natureza)))),quote=FALSE)
```

*Anos analisados*
```{r echo=FALSE}
print(c('Biologia Animal:'))
names(public.240$PERIODICO)
print(c('Biologia Microbiana:'))
names(public.242$PERIODICO)
print(c('Biologia Molecular:'))
names(public.243$PERIODICO)
print(c('Patologia Molecular:'))
names(public.313$PERIODICO)
```

*20 revistas mais publicadas*
```{r echo=FALSE}
print(c('Biologia Animal:'))
head(sort(table(as.data.frame(unlist
                              (sapply(public.240$PERIODICO, function(x) unlist(x$periodico)))
)), decreasing = TRUE),20)
print(c('Biologia Microbiana:'))
head(sort(table(as.data.frame(unlist
                              (sapply(public.242$PERIODICO, function(x) unlist(x$periodico)))
)), decreasing = TRUE),20)
print(c('Biologia Molecular:'))
head(sort(table(as.data.frame(unlist
                              (sapply(public.243$PERIODICO, function(x) unlist(x$periodico)))
)), decreasing = TRUE),20)
print(c('Patologia Molecular:'))
head(sort(table(as.data.frame(unlist
                              (sapply(public.313$PERIODICO, function(x) unlist(x$periodico)))
)), decreasing = TRUE),20)
```

*Análise dos dados no formato dataframe*
```{r echo=FALSE}
public.240.periodico.df <- pub.ls2df(public.240, 1) #artigos
public.240.livros.df <- pub.ls2df(public.240, 2) #livros
public.240.eventos.df <- pub.ls2df(public.240, 5) #eventos
public.242.periodico.df <- pub.ls2df(public.242, 1) #artigos
public.242.livros.df <- pub.ls2df(public.242, 2) #livros
public.242.eventos.df <- pub.ls2df(public.242, 5) #eventos
public.243.periodico.df <- pub.ls2df(public.243, 1) #artigos
public.243.livros.df <- pub.ls2df(public.243, 2) #livros
public.243.eventos.df <- pub.ls2df(public.243, 5) #eventos
public.313.periodico.df <- pub.ls2df(public.313, 1) #artigos
public.313.livros.df <- pub.ls2df(public.313, 2) #livros
public.313.eventos.df <- pub.ls2df(public.313, 5) #eventos

#Dataframe específico para análise de especialidades
especialidade.240.orient <- public.240.eventos.df %>%
  filter (classificacao == "INTERNACIONAL") %>%
  select (`autores-endogeno`) %>%
  separate_rows(`autores-endogeno`, sep = ";") %>%
  distinct() %>%
  arrange(`autores-endogeno`) %>% mutate(internacional = "Sim") %>%
  right_join(perfil.240.df, by = c("autores-endogeno" = "idLattes")) %>%
  left_join(perfil.240.df.areas.de.atuacao, by = c("autores-endogeno" = "idLattes")) %>%
  select(`autores-endogeno`, internacional, especialidade, orientacoes_concluidas) %>% distinct() %>%
  rename(idLattes = `autores-endogeno`)
especialidade.240.orient[is.na(especialidade.240.orient)] <- 0 #Remove NAs do dataframe
especialidade.240.orient$especialidade <- sub("^$", "Não informada", especialidade.240.orient$especialidade)
especialidade.240.orient$internacional <- sub(0, "Não", especialidade.240.orient$internacional)
especialidade.240.orient$programa <- "Biologia Animal" 

especialidade.242.orient <- public.242.eventos.df %>%
  filter (classificacao == "INTERNACIONAL") %>%
  select (`autores-endogeno`) %>%
  separate_rows(`autores-endogeno`, sep = ";") %>%
  distinct() %>%
  arrange(`autores-endogeno`) %>% mutate(internacional = "Sim") %>%
  right_join(perfil.242.df, by = c("autores-endogeno" = "idLattes")) %>%
  left_join(perfil.242.df.areas.de.atuacao, by = c("autores-endogeno" = "idLattes")) %>%
  select(`autores-endogeno`, internacional, especialidade, orientacoes_concluidas) %>% distinct() %>%
  rename(idLattes = `autores-endogeno`)
especialidade.242.orient[is.na(especialidade.242.orient)] <- 0 #Remove NAs do dataframe
especialidade.242.orient$especialidade <- sub("^$", "Não informada", especialidade.242.orient$especialidade)
especialidade.242.orient$internacional <- sub(0, "Não", especialidade.242.orient$internacional)
especialidade.242.orient$programa <- "Biologia Microbiana"

especialidade.243.orient <- public.243.eventos.df %>%
  filter (classificacao == "INTERNACIONAL") %>%
  select (`autores-endogeno`) %>%
  separate_rows(`autores-endogeno`, sep = ";") %>%
  distinct() %>%
  arrange(`autores-endogeno`) %>% mutate(internacional = "Sim") %>%
  right_join(perfil.243.df, by = c("autores-endogeno" = "idLattes")) %>%
  left_join(perfil.243.df.areas.de.atuacao, by = c("autores-endogeno" = "idLattes")) %>%
  select(`autores-endogeno`, internacional, especialidade, orientacoes_concluidas) %>% distinct() %>%
  rename(idLattes = `autores-endogeno`)
especialidade.243.orient[is.na(especialidade.243.orient)] <- 0 #Remove NAs do dataframe
especialidade.243.orient$especialidade <- sub("^$", "Não informada", especialidade.243.orient$especialidade)
especialidade.243.orient$internacional <- sub(0, "Não", especialidade.243.orient$internacional)
especialidade.243.orient$programa <- "Biologia Molecular"

especialidade.313.orient <- public.313.eventos.df %>%
  filter (classificacao == "INTERNACIONAL") %>%
  select (`autores-endogeno`) %>%
  separate_rows(`autores-endogeno`, sep = ";") %>%
  distinct() %>%
  arrange(`autores-endogeno`) %>% mutate(internacional = "Sim") %>%
  right_join(perfil.313.df, by = c("autores-endogeno" = "idLattes")) %>%
  left_join(perfil.313.df.areas.de.atuacao, by = c("autores-endogeno" = "idLattes")) %>%
  select(`autores-endogeno`, internacional, especialidade, orientacoes_concluidas) %>% distinct() %>%
  rename(idLattes = `autores-endogeno`)
especialidade.313.orient[is.na(especialidade.313.orient)] <- 0 #Remove NAs do dataframe
especialidade.313.orient$especialidade <- sub("^$", "Não informada", especialidade.313.orient$especialidade)
especialidade.313.orient$internacional <- sub(0, "Não", especialidade.313.orient$internacional)
especialidade.313.orient$programa <- "Patologia Molecular"

especialidade.total.orient = bind_rows(especialidade.240.orient, especialidade.242.orient, especialidade.243.orient, especialidade.313.orient) 

#Dataframe especifico para análise de áreas de atuação
perfil.240.areas <- perfil.240.df.areas.de.atuacao %>% 
  select(-sub_area, -especialidade) %>%
  distinct() %>%
  group_by(idLattes, orientacoes_concluidas, publicacoes) %>%
  summarise(num_areas = n()) %>% ungroup()
perfil.240.areas$num_areas <- as.factor(perfil.240.areas$num_areas)
perfil.242.areas <- perfil.242.df.areas.de.atuacao %>% 
  select(-sub_area, -especialidade) %>%
  distinct() %>%
  group_by(idLattes, orientacoes_concluidas, publicacoes) %>%
  summarise(num_areas = n()) %>% ungroup()
perfil.242.areas$num_areas <- as.factor(perfil.242.areas$num_areas)
perfil.243.areas <- perfil.243.df.areas.de.atuacao %>% 
  select(-sub_area, -especialidade) %>%
  distinct() %>%
  group_by(idLattes, orientacoes_concluidas, publicacoes) %>%
  summarise(num_areas = n()) %>% ungroup()
perfil.243.areas$num_areas <- as.factor(perfil.243.areas$num_areas)
perfil.313.areas <- perfil.313.df.areas.de.atuacao %>% 
  select(-sub_area, -especialidade) %>%
  distinct() %>%
  group_by(idLattes, orientacoes_concluidas, publicacoes) %>%
  summarise(num_areas = n()) %>% ungroup()
perfil.313.areas$num_areas <- as.factor(perfil.313.areas$num_areas)
```

*Publicações por ano*
```{r echo=FALSE}
print("Biologia Animal ")
table(public.240.periodico.df$ano)
print("Biologia Microbiana")
table(public.242.periodico.df$ano)
print("Biologia Molecular")
table(public.243.periodico.df$ano)
print("Patologia Molecular")
table(public.313.periodico.df$ano)
```

*20 revistas mais publicadas (análise com dataframe)*
```{r echo=FALSE}
print("Biologia Animal ")
head(sort(table(public.240.periodico.df$periodico), decreasing = TRUE), 20)
print("Biologia Microbiana")
head(sort(table(public.242.periodico.df$periodico), decreasing = TRUE), 20)
print("Biologia Molecular")
head(sort(table(public.243.periodico.df$periodico), decreasing = TRUE), 20)
print("Patologia Molecular")
head(sort(table(public.313.periodico.df$periodico), decreasing = TRUE), 20)
```

*Número de Orientações de Mestrado e Doutorado*
```{r echo=FALSE}
print(c("Biologia Animal: ",sum(sapply(orient.240$ORIENTACAO_CONCLUIDA_DOUTORADO, function(x) length(x$natureza))) + 
  sum(sapply(orient.240$ORIENTACAO_CONCLUIDA_MESTRADO, function(x) length(x$natureza)))),quote=FALSE)
print(c("Biologia Microbiana:",sum(sapply(orient.242$ORIENTACAO_CONCLUIDA_DOUTORADO, function(x) length(x$natureza))) + 
  sum(sapply(orient.242$ORIENTACAO_CONCLUIDA_MESTRADO, function(x) length(x$natureza)))),quote=FALSE)
print(c("Biologia Molecular:",sum(sapply(orient.243$ORIENTACAO_CONCLUIDA_DOUTORADO, function(x) length(x$natureza))) + 
  sum(sapply(orient.243$ORIENTACAO_CONCLUIDA_MESTRADO, function(x) length(x$natureza)))),quote=FALSE)
print(c("Patologia Molecular:",sum(sapply(orient.313$ORIENTACAO_CONCLUIDA_DOUTORADO, function(x) length(x$natureza))) + 
  sum(sapply(orient.313$ORIENTACAO_CONCLUIDA_MESTRADO, function(x) length(x$natureza)))),quote=FALSE)
```

*Construição de dataframe de orientações*
```{r echo=FALSE}
orient.240.posdoutorado.df <- ori.ls2df(orient.240, 6) #pos-Doutorado concluido
orient.240.doutorado.df <- ori.ls2df(orient.240, 7) #Doutorado concluido
orient.240.mestrado.df <- ori.ls2df(orient.240, 8) #Mestrado concluido
orient.240.df <- rbind(rbind(orient.240.posdoutorado.df, orient.240.doutorado.df), orient.240.mestrado.df)
bolsas.240.df <- orient.240.df %>% filter(bolsa == "SIM") %>%
  group_by(natureza, ano) %>%
  summarise(num_bolsas = n()) %>%
  inner_join((orient.240.df %>%
                group_by(natureza, ano) %>%
                summarise(num_orients = n())), by = c("natureza", "ano")) %>%
  mutate(ratio = num_bolsas/num_orients)
orient.242.posdoutorado.df <- ori.ls2df(orient.242, 6) #pos-Doutorado concluido
orient.242.doutorado.df <- ori.ls2df(orient.242, 7) #Doutorado concluido
orient.242.mestrado.df <- ori.ls2df(orient.242, 8) #Mestrado concluido
orient.242.df <- rbind(rbind(orient.242.posdoutorado.df, orient.242.doutorado.df), orient.242.mestrado.df)
bolsas.242.df <- orient.242.df %>% filter(bolsa == "SIM") %>%
  group_by(natureza, ano) %>%
  summarise(num_bolsas = n()) %>%
  inner_join((orient.242.df %>%
                group_by(natureza, ano) %>%
                summarise(num_orients = n())), by = c("natureza", "ano")) %>%
  mutate(ratio = num_bolsas/num_orients)
orient.243.posdoutorado.df <- ori.ls2df(orient.243, 6) #pos-Doutorado concluido
orient.243.doutorado.df <- ori.ls2df(orient.243, 7) #Doutorado concluido
orient.243.mestrado.df <- ori.ls2df(orient.243, 8) #Mestrado concluido
orient.243.df <- rbind(rbind(orient.243.posdoutorado.df, orient.243.doutorado.df), orient.243.mestrado.df)
bolsas.243.df <- orient.243.df %>% filter(bolsa == "SIM") %>%
  group_by(natureza, ano) %>%
  summarise(num_bolsas = n()) %>%
  inner_join((orient.243.df %>%
                group_by(natureza, ano) %>%
                summarise(num_orients = n())), by = c("natureza", "ano")) %>%
  mutate(ratio = num_bolsas/num_orients)
orient.313.posdoutorado.df <- ori.ls2df(orient.313, 6) #pos-Doutorado concluido
orient.313.doutorado.df <- ori.ls2df(orient.313, 7) #Doutorado concluido
orient.313.mestrado.df <- ori.ls2df(orient.313, 8) #Mestrado concluido
orient.313.df <- rbind(rbind(orient.313.posdoutorado.df, orient.313.doutorado.df), orient.313.mestrado.df)
bolsas.313.df <- orient.313.df %>% filter(bolsa == "SIM") %>%
  group_by(natureza, ano) %>%
  summarise(num_bolsas = n()) %>%
  inner_join((orient.313.df %>%
                group_by(natureza, ano) %>%
                summarise(num_orients = n())), by = c("natureza", "ano")) %>%
  mutate(ratio = num_bolsas/num_orients)
```

*Construção de Grafo de Colaborações*
```{r, warning=FALSE,message=FALSE}
g.240 <- g.ls2ig(graphl.240)
df.240 <- as.data.frame(V(g.240)$name); colnames(df.240) <- "Idlattes"
df.240 <- left_join(df.240, df.prog, by = c("Idlattes" = "idLattes"))
g.242 <- g.ls2ig(graphl.242)
df.242 <- as.data.frame(V(g.242)$name); colnames(df.242) <- "Idlattes"
df.242 <- left_join(df.242, df.prog, by = c("Idlattes" = "idLattes"))
g.243 <- g.ls2ig(graphl.243)
df.243 <- as.data.frame(V(g.243)$name); colnames(df.243) <- "Idlattes"
df.243 <- left_join(df.243, df.prog, by = c("Idlattes" = "idLattes"))
g.313 <- g.ls2ig(graphl.313)
df.313 <- as.data.frame(V(g.313)$name); colnames(df.313) <- "Idlattes"
df.313 <- left_join(df.313, df.prog, by = c("Idlattes" = "idLattes"))
perfil.total.df = bind_rows(perfil.240.df, perfil.242.df, perfil.243.df, perfil.313.df) 
```

Apenas para fins de análise inicial, foram retiradas do grafo as observacoes de pesquisadores duplicados quando inclusos em mais de um programa, vide código abaixo.

```{r message=FALSE, warning=FALSE, echo=FALSE}
df.240 <- df.240 %>% group_by(Idlattes) %>% 
  slice(1L)
V(g.240)$programa <- df.240$Programa
V(g.240)$orient_dout <- perfil.240.df$ORIENTACAO_CONCLUIDA_DOUTORADO
V(g.240)$orient_mest <- perfil.240.df$ORIENTACAO_CONCLUIDA_MESTRADO
E(g.240)$publicacao <- perfil.240.df$PERIODICO
E(g.240)$eventos <- perfil.240.df$EVENTO
V(g.240)$color = 'blue'
V(g.240)$name = df.240$Docente
V(g.240)$name = str_extract(V(g.240)$name, '[^ ]+$')
df.242 <- df.242 %>% group_by(Idlattes) %>% 
  slice(1L)
V(g.242)$programa <- df.242$Programa
V(g.242)$orient_dout <- perfil.242.df$ORIENTACAO_CONCLUIDA_DOUTORADO
V(g.242)$orient_mest <- perfil.242.df$ORIENTACAO_CONCLUIDA_MESTRADO
E(g.242)$publicacao <- perfil.242.df$PERIODICO
E(g.242)$eventos <- perfil.242.df$EVENTO
V(g.242)$color = 'yellow'
V(g.242)$name = df.242$Docente
V(g.242)$name = str_extract(V(g.242)$name, '[^ ]+$')
df.243 <- df.243 %>% group_by(Idlattes) %>% 
  slice(1L)
V(g.243)$programa <- df.243$Programa
V(g.243)$orient_dout <- perfil.243.df$ORIENTACAO_CONCLUIDA_DOUTORADO
V(g.243)$orient_mest <- perfil.243.df$ORIENTACAO_CONCLUIDA_MESTRADO
E(g.243)$publicacao <- perfil.243.df$PERIODICO
E(g.243)$eventos <- perfil.243.df$EVENTO
V(g.243)$color = 'green'
V(g.243)$name = df.243$Docente
V(g.243)$name = str_extract(V(g.243)$name, '[^ ]+$')
df.313 <- df.313 %>% group_by(Idlattes) %>% 
  slice(1L)
V(g.313)$programa <- df.313$Programa
V(g.313)$orient_dout <- perfil.313.df$ORIENTACAO_CONCLUIDA_DOUTORADO
V(g.313)$orient_mest <- perfil.313.df$ORIENTACAO_CONCLUIDA_MESTRADO
E(g.313)$publicacao <- perfil.313.df$PERIODICO
V(g.313)$color = 'red'
E(g.313)$eventos <- perfil.313.df$EVENTO
V(g.313)$name = df.313$Docente
V(g.313)$name = str_extract(V(g.313)$name, '[^ ]+$')
grafo = graph.disjoint.union(g.240, g.242, g.243, g.313)%>%
  set_edge_attr('weight', value = (1/1000)*perfil.total.df$PERIODICO) %>%
  set_edge_attr('color', value = factor(perfil.total.df$senioridade)) %>%
  set_edge_attr('width', value =  factor(perfil.total.df$`n_distinct(area)`)) %>%
  set_vertex_attr('size', value = (1/10)*perfil.total.df$PERIODICO)
```

##CRISP-DM Fases 4 a 6 - Resultados e visualizações:
Foram escolhidos alguns resultados, em relação aos dados encontrados durante o processo, para serem plotados em gráficos.

##Biologia Animal

### Grafico de barras; periodicos por ano
```{r echo=FALSE}
public.240.periodico.df %>%
  group_by(ano) %>%
  summarise(Quantidade = n()) %>%
  ggplot(aes(ano, Quantidade, fill = ano)) +
  geom_bar(position = "stack",stat = "identity") +
  ggtitle("Periodicos publicados por ano") +
  geom_text(aes(label=Quantidade), vjust=-0.3, size=2.5)+
  theme_minimal() + labs(x="Ano",y="Quantidade de Periodicos")
```

Sob uma perspectiva de publicações em periódicos, o Programa de Pós-Graduação
de Biologia Animal apresentou pouca variação entre os anos de 2011 e 2017, registrando valores entre 60 e 72 publicações por ano. Um vale único foi encontrado fora deste intervalo, com número de publicações 18% menor que o ano anterior (2015). Ainda assim, este comportamento não foi propagado nos anos seguintes, caracterizando um ano atípico na amostra.

###Quantidade de periodicos publicados por professor(a) entre 2010 e 2017
```{r echo=FALSE}
perfil.240.df %>%
  ggplot(aes(idLattes,PERIODICO, color = num_areas)) +
  geom_point() +
  ggtitle("Periodicos publicados por pesquisador (incluindo mediana)") +
  theme(legend.position="right",legend.text=element_text(size=7)) +
  guides(fill=guide_legend(nrow=5, byrow=TRUE, title.position = "top")) +
  labs(x="Pesquisador(a)",y="Numero de publicacoes") +
  theme(axis.text.x=element_blank(), axis.ticks.x=element_blank()) +
  geom_hline(yintercept = sum(perfil.240.df %>% summarize(x = median(PERIODICO))), color = "red")
```

O gráfico acima demonstra o total de publicações registradas por cada pesquisador, demonstrando relativa homogeneidade na produção média por pesquisador, uma vez que grande parte das amostras se aproxima da mediana (26 publicações em periódicos). Nota-se, entretanto, um grande destaque para dois pesquisadores que apresentaram mais de 100 publicações no período (cerca de quatro vezes o valor da mediana encontrada). Outra consideração relevante é a constatação de que os 3 pesquisadores com maiores coeficientes no gráfico apresentam apenas uma única área de pesquisa cadastrada, enquanto os pesquisadores com mais áreas de pesquisa apresentaram um índice menor.

###Número de areas de pesquisa e quantidade de eventos por pesquisador
```{r echo=FALSE}
perfil.240.df %>%
  ggplot(aes(idLattes,EVENTO, color = num_areas)) +
  geom_point() +
  ggtitle("Participação dos pesquisadores em eventos (incluindo mediana)") +
  theme(legend.position="right",legend.text=element_text(size=7)) +
  guides(fill=guide_legend(nrow=5, byrow=TRUE, title.position = "top")) +
  labs(x="Pesquisador(a)",y="Quantidade de eventos") +
  theme(axis.text.x=element_blank(), axis.ticks.x=element_blank()) +
  geom_hline(yintercept = sum(perfil.240.df %>% summarize(x = median(EVENTO))), color = "red")
```

O gráfico acima demonstra o total de eventos registrados por cada pesquisador, demonstrando relativa homogeneidade na participação média de cada pesquisador em eventos, uma vez que grande parte das amostras se aproxima da mediana (11 participações). Ainda assim, alguns *outliars* apresentaram número expressivamente maiores, chegando a quintuplicar a mediana encontrada. É curioso notar que, assim como observado no gráfico de produção de periódicos, os pesquisadores que apresentaram um maior coeficiente de participação em eventos não foram aqueles que relataram um maior número de áreas de pesquisa, induzindo a noção de que pesquisadores especializados apresentam uma maior participação mais expressiva na comunidade acadêmica.

###Publicação de livros por pais/ano
```{r echo=FALSE}
public.240.livros.df %>%
  group_by(ano,pais_de_publicacao) %>%
  ggplot(aes(x=ano,y=pais_de_publicacao, color= pais_de_publicacao)) +
  guides(color = FALSE) +
  ggtitle("Livros publicados por ano") +
  xlab("Ano") + ylab("Pais") + geom_jitter()
```

Denota-se homogeneidade na distribuição de livros publicados para cada país de publicação, onde os Estados Unidos se equiparam ao Brasil quanto a número de lívros publicados para o PPG em Biologia Animal. Ainda assim, é curioso notar que menos da metade dos oito anos da base de dados registraram publicações de livros (2013, 2014, 2016).

###Publicações de capítulos de livros por ano/país
```{r echo=FALSE}
perfil.240.df.publicacoes %>%
  filter((tipo_producao %in% c('LIVRO', 'CAPITULO_DE_LIVRO'))) %>%
  group_by(tipo_producao,pais_de_publicacao) %>%
  ggplot(aes(ano,tipo_producao,col=pais_de_publicacao)) +
  geom_jitter() + ggtitle("Publicações de capítulos de livros por ano/país") +
  labs(x='Tipo de produção',y='País')
```

Trazendo a análise de publicações de capítulos de livros, há um aumento expressivo no número de amostras. Todos os anos analisados (2010-2017) registraram mais de um capítulo de livro publicado pelo PPG em Biologia Animal. Entretanto, a publicação de capítulos não apresenta o mesmo nível de internacionalização que o gráfico anterior. Uma observação curiosa é a grande participação de países estrangeiros no início da amostra, enquanto os anos 2016 e 2017 tem publicações majoritariamente nacionais.

###Eventos nacionais e internacionais
```{r echo=FALSE}
public.240.eventos.df %>%
  filter(pais_do_evento %in% 
           c(names(head(sort(table(public.240.eventos.df$pais_do_evento)
                             , decreasing = TRUE), 10)))) %>%
  group_by(ano_do_trabalho,pais_do_evento) %>%
  ggplot(aes(x=ano_do_trabalho,y=pais_do_evento, color= pais_do_evento)) +
  ggtitle("Participacão em eventos por localização") +
  guides(color = FALSE) +
  xlab("Ano") + ylab("Pais") + geom_jitter()
```

Considerando eventos, o Programa de Biologia Animal teve comparecimento maior
em eventos no Brasil que em países estrangeiros. Ainda assim, o gráfico mostra
que o programa esteve presente em eventos de sede internacional em 
todos os anos registrados na base de dados, principalmente nos Estados Unidos.

###Orientacoes completas por ano e natureza
```{r echo=FALSE}
orient.240.df %>%
  group_by(ano, natureza) %>% summarise(total = n()) %>%
  ggplot(aes(x=ano,y=total,group=natureza,color=natureza)) +
  geom_line() +
  ggtitle("Número de orientações finalizadas por ano") +
  theme(legend.position="right",legend.text=element_text(size=7)) +
  guides(fill=guide_legend(nrow=5, byrow=TRUE, title.position = "top")) +
  labs(x="Ano",y="Quantidade de Orientações")
```

Observando a evolução do número de orientações completas ao longo dos anos,
percebe-se que o Programa de Pós-Graduação em Biologia Animal cresceu na
natureza de mestrado após 2010, mas teve regressões em 2015 e 2017.
Entretanto, não há um comportamento linear na evolução do número de orientações
Além disso, 2013 despontou no número de dissertações de mestrado, mas
teve queda vertiginosa nas demais naturezas. Enquanto as orientações
de mestrado do Programa parecem bem estabelecidas, as supervisões de
pós-doutorado ainda parecem incipientes, tendo em vista que não despontaram
em nenhum dos anos pesquisados e chegaram a zero registros em 2017 - enquanto o doutorado atingiu valor máximo neste mesmo ano.

###Evolução temporal de orientações em andamento e concluídas
```{r echo=FALSE}
perfil.240.df.orientacoes %>% group_by(ano, situacao) %>%
  ggplot(aes(x=situacao,y=ano,color=ano)) +
  geom_jitter(size = 0.8) + facet_wrap(. ~ Natureza) +
  guides(color = FALSE) +
  ggtitle("Disposição de orientações por ano")
```

Observou-se uma quantidade praticamente linear no número de iniciações científicas, mestrados e doutorados concluídos no período 2010 – 2017. Conjuntamente a isso, verifica-se um aumento significativo no número de pós-graduações e iniciações científicas em andamento a partir de 2012. Em contrapartida, os pós-doutorados e outros tipos de especialidades tiveram queda no período em questão. Este comportamento, com diversas orientações finalizadas e poucas em andamento, sugere que o PPG em Biologia Animal contemplava poucos cadastros de orientações em andamento e está intensificando esta prática nos anos mais recentes - o que tornará análises futuras ainda mais enriquecedoras.

###Índice de bolsas entre naturezas e evolução temporal
```{r echo=FALSE}
bolsas.240.df %>%
  ggplot(aes(x=ano,y=ratio*100,color=natureza, group=natureza)) +
  geom_line() +
  ggtitle("Porcentagem de orientações contempladas por bolsas") +
  theme(legend.position="right",legend.text=element_text(size=7)) +
  guides(fill=guide_legend(nrow=5, byrow=TRUE, title.position = "top")) +
  labs(x="Ano",y="Índice de bolsas")
```

Comparando os gráficos de orientações completas e de bolsas, é possível
perceber que o número de bolsas oferecidas para o Programa acompanhou o
total de orientações de maneira satisfatória ao longo dos anos.
Durante todo o período, todas as naturezas apresentaram um índice de pelo menos
50% de bolsas, chegando a 100% em alguns casos.
Além disso, as teses de pós-doutorado se mostram a natureza de pesquisa melhor
contemplada pelas agências financiadoras, visto que apenas uma das observações
não recebeu bolsa. Por fim, é possível observar que o pico no número de
orientações de mestrado registrado em 2014 não foi tão expressivo em número
de bolsas, caracterizando um ano com elevado número de alunos não bolsistas.

###Cursos de Mestrado e total de alunos no período (2011-2017)
```{r echo=FALSE}
orient.240.mestrado.df %>%
  group_by(curso) %>%
  summarise(Quantidade = n()) %>% mutate(Quantidade = factor(Quantidade)) %>%
  ggplot(aes(x=Quantidade,y = curso, color = Quantidade)) +
  geom_point() +
  ggtitle('Total de orientações de mestrado') +
  labs(x='Quantidade de alunos',y='Curso do mestrando')
```

A análise de cursos dos alunos de mestrado orientados pelos professores do PGG de Biologia Animal apresenta um pequeno índice de correlação com outras áreas. No gráfico são listados diversos programas de pós-graduação com orientandos cadastrados - não se limitando aos que foram analisados neste trabalho.

O curso com maior número de orientações do programa é ele mesmo, como esperado (75 orientações). Em segundo lugar está o curso de Ciências da Saúde, com 21 orientações. Dos Programas de Pós-Graduação analisados neste trabalho, o que apresentou maior número de orientações foi o de Patologia Molecular, com apenas 7 registros. Os gráficos produzidos sobre os demais PPGs contemplados por este trabalho apresentaram índices de correlação muito maiores entre si, indicando um certo distanciamento da Biologia Animal dos demais programas.

###Concentração de áreas por grandes áreas:
```{r echo=FALSE}
perfil.240.df.areas.de.atuacao %>%
  select(-sub_area, -especialidade) %>%
  distinct() %>%
  ggplot(aes(publicacoes, orientacoes_concluidas, color = area)) +
  geom_jitter(shape = 2, size = .8) +
  ggtitle('Concentração de áreas por grandes áreas') +
  labs(x='Publicações',y='Orientações concluídas') + facet_wrap(grande_area ~ ., ncol = 2)
```



Uma análise superficial do gráfico apresentado já evidencia uma grande concentração de pesquisadores do
PPG de Biologia Animal na grande área de Ciências Biológicas. Em comparação com os demais PPGs analisados neste trabalho, o programa de Biologia Animal se destaca pela presença de poucos docentes com pesquisas em outras grandes áreas. Estes poucos docentes não tiveram grande expressão em número de publicações, mas se destacaram no número de orientações - os docentes que apresentaram maior número de orientações na amostra trabalhada estão justamente entre aqueles que se diversificaram quanto à grande área.

###Quantidade de Orientações e Publicações pelo Número de Áreas
```{r echo=FALSE}
perfil.240.areas %>%
  ggplot(aes(publicacoes, orientacoes_concluidas, color = num_areas)) +
  geom_point() +
  guides(color = FALSE) +
  ggtitle('Orientações e Publicações pelo Número de Áreas') +
  labs(x='Publicações',y='Orientações concluídas') + facet_wrap(. ~ num_areas)
```

Trazendo uma perspectiva sobre as áreas de pesquisa, há uma diversidade um pouco maior entre os docentes do PPG de Biologia Animal, mas poucos pesquisadores contemplam mais de 3 áreas. Além disso, nenhum dos pesquisadores que ultrapassaram esta marca teve destaque em número de publiações. Os destaques em número de publicações se concentram principalmente em pesquisadores com poucas áreas de pesquisa, comportamento este que se repetiu na análise de outros PPGs.
  
###Presença em congressos internacionais por número de orientações:
```{r echo=FALSE}
especialidade.240.orient %>%
  ggplot(aes(internacional, orientacoes_concluidas, color = especialidade)) +
  geom_jitter(size = .8) +
  guides(color = FALSE) +
  ggtitle('Orientações concluidas x Participação em congressos internacionais') +
  labs(x='Participacao internacional',y='Orientações concluídas')
```

Na imagem acima notamos que os docentes - do Programa de Pós-Graduação em Biologia Animal - que participam de congressos internacionais orientam mais alunos do que os que não comparecem a estes congressos. Cada cor em cada ponto representa a área em que cada pesquisador está inserido, no eixo ordenado há a quantidade de orientações e no eixo abcisso se este participou ou não de congressos internacionais.

## Biologia Microbiana

### Grafico de barras; periodicos por ano
```{r echo=FALSE}
public.242.periodico.df %>%
  group_by(ano) %>%
  summarise(Quantidade = n()) %>%
  ggplot(aes(ano, Quantidade, fill = ano)) +
  geom_bar(position = "stack",stat = "identity") +
  ggtitle("Periodicos publicados por ano") +
  guides(fill = FALSE) +
  geom_text(aes(label=Quantidade), vjust=-0.3, size=2.5) +
  theme_minimal() + labs(x="Ano",y="Quantidade de Periodicos")
```

No programa de Biologia Microbiana verifica-se que há um aumento na quantidade de publicação de periódicos por ano durante o período apresentado. Houve um considerável aumento no número de periódicos entre 2013 e 2014, crescendo quase duas vezes em sua quantidade.


###Quantidade de periodicos publicados por professor(a) entre 2010 e 2017
```{r echo=FALSE}
perfil.242.df %>%
  ggplot(aes(idLattes,PERIODICO, color = num_areas)) +
  geom_point() +
  ggtitle("Periodicos publicados por pesquisador (incluindo mediana)") +
  theme(legend.position="right",legend.text=element_text(size=7)) +
  guides(fill=guide_legend(nrow=5, byrow=TRUE, title.position = "top")) +
  labs(x="Pesquisador(a)",y="Numero de publicacoes") +
  theme(axis.text.x=element_blank(), axis.ticks.x=element_blank()) +
  geom_hline(yintercept = sum(perfil.242.df %>% summarize(x = median(PERIODICO))), color = "red")
```

Observa-se no gráfico que não existe nenhum padrão linear entre Número de Publicações e Numero de Áreas do pesquisador. Verifica-se apenas que quando o pesquisador está apenas em uma área de pesquisa tende a estar perto da mediana de publicações e quanto mais alto o número de áreas do pesquisador mais se observa uma aleatoriedade no número de publicações. Além do mais, há uma diferença do pesquisador que mais publicou em relação a mediana de cinco vezes mais publicações.


###Número de areas de pesquisa e quantidade de eventos por pesquisador
```{r echo=FALSE}
perfil.242.df %>%
  ggplot(aes(idLattes,EVENTO, color = num_areas)) +
  geom_point() +
  ggtitle("Participação dos pesquisadores em eventos (incluindo mediana)") +
  theme(legend.position="right",legend.text=element_text(size=7)) +
  guides(fill=guide_legend(nrow=5, byrow=TRUE, title.position = "top")) +
  labs(x="Pesquisador(a)",y="Quantidade de eventos") +
  theme(axis.text.x=element_blank(), axis.ticks.x=element_blank()) +
  geom_hline(yintercept = sum(perfil.242.df %>% summarize(x = median(EVENTO))), color = "red")
```

Como constatado também no gráfico anterior, não há um padrão definido entre a Quantidade de Participação em Eventos e o Número de Áreas em que cada pesquisador está inserido. A quantidades fica em torno de 20 eventos e há um pesquisador um pouco discrepante aos demais que foi em mais de 80 eventos durante o período. 


###Publicação de livros por pais/ano
```{r echo=FALSE}
public.242.livros.df %>%
  group_by(ano,pais_de_publicacao) %>%
  ggplot(aes(x=ano,y=pais_de_publicacao, color= pais_de_publicacao)) +
  ggtitle("Livros publicados por ano") +
  guides(color = FALSE) +
  xlab("Ano") + ylab("Pais") + geom_jitter()
```

Em relação a publicação de livro, houve uma maior quantidade de publicações feitas no Brasil. Sendo divulgadas apenas em 2013 e 2015 na Grã-Bretanha e na Alemanha, respectivamente.

###Publicações de capítulos de livros por ano/país
```{r echo=FALSE}
perfil.242.df.publicacoes %>%
  filter((tipo_producao %in% c('LIVRO', 'CAPITULO_DE_LIVRO'))) %>%
  group_by(tipo_producao,pais_de_publicacao) %>%
  ggplot(aes(ano,tipo_producao,col=pais_de_publicacao)) +
  geom_jitter() + ggtitle("Publicações de capítulos de livros por ano/país") +
  labs(x='Tipo de produção',y='País')
```

Os docentes do programa de Biologia Microbiana apresentaram uma quantidade muito boa de publicações de capitulo de livros durante estes 7 anos. Houve uma maior concentração de publicações em 2014, com destaque para Brasil, mas não se deixou de publicar nos outros países também como: Alemanha, Croácia, Estados Unidos, entre outros. Já no que se refere a publicação de livros, essa se deu de forma branda e com concentração maior no Brasil.


###Eventos nacionais e internacionais
```{r echo=FALSE}
public.242.eventos.df %>%
  filter(pais_do_evento %in% 
           c(names(head(sort(table(public.242.eventos.df$pais_do_evento)
                             , decreasing = TRUE), 10)))) %>%
  group_by(ano_do_trabalho,pais_do_evento) %>%
  ggplot(aes(x=ano_do_trabalho,y=pais_do_evento, color= pais_do_evento)) +
  ggtitle("Participacão em eventos por localização") +
  guides(color = FALSE) +
  xlab("Ano") + ylab("Pais") + geom_jitter()
```

O Brasil teve em disparado um maior número de participação em eventos feito pelos docentes da área de Biologia Microbiana da Universidade de Brasília. Em segundo lugar ficou a participação em eventos nos Estados Unidos, seguido da Alemanha. Nos outros países não tiveram um volume considerável de participações. Além disso, a participações em eventos ficaram lineares durante os anos nos países, somente havendo um numero um pouco maior de ida a esses eventos em 2014 e 2015.


###Orientacoes completas por ano e natureza
```{r echo=FALSE}
orient.242.df %>%
  group_by(ano, natureza) %>% summarise(total = n()) %>%
  ggplot(aes(x=ano,y=total,group=natureza,color=natureza)) +
  geom_line() +
  ggtitle("Número de orientações finalizadas por ano") +
  theme(legend.position="right",legend.text=element_text(size=7)) +
  guides(fill=guide_legend(nrow=5, byrow=TRUE, title.position = "top")) +
  labs(x="Ano",y="Quantidade de Orientações")
```

Nota-se um aumento expressivo no número de orientações de mestrado finalizadas de 2010 até 2014, depois disso, houve um declínio nesse número e uma pequena recuperação na quantidade de orientações finalizadas no ano de 2016. Conjuntamente a isto, o número de orientações finalizadas em teses de doutorado em supervisões de pós-graduação teve oscilações durante todo período, apresentando queda de 2016 para 2017 e aumento de 2015 para 2016, em teses de doutorado e supervisão de pós-doutorado, respectivamente. 


###Evolução temporal de orientações em andamento e concluídas
```{r echo=FALSE}
perfil.242.df.orientacoes %>% group_by(ano, situacao) %>%
  ggplot(aes(x=situacao,y=ano,color=ano)) +
  geom_jitter(size = 0.8) + facet_wrap(. ~ Natureza) +
  guides(color = FALSE) +
  ggtitle("Disposição de orientações por ano")
```

Verifica-se uma maior quantidade de orientações concluídas na Iniciação Cientifica e no Mestrado do programa de Biologia Microbiana, durante todo o período apresentado.  É importante destacar que o Doutorado, a Iniciação Cientifica e o Mestrado vêm mostrado aumento no número de orientações em andamento. Já os outros campos de pós-graduação e outras naturezas tiveram uma diminuição branca em suas conclusões e quase não apresentam orientações em andamento. 

###Índice de bolsas entre naturezas e evolução temporal
```{r echo=FALSE}
bolsas.242.df %>%
  ggplot(aes(x=ano,y=ratio*100,color=natureza, group=natureza)) +
  geom_line() +
  ggtitle("Porcentagem de orientações contempladas por bolsas") +
  theme(legend.position="right",legend.text=element_text(size=7)) +
  guides(fill=guide_legend(nrow=5, byrow=TRUE, title.position = "top")) +
  labs(x="Ano",y="Índice de bolsas")
```

É considerável notar o aumento expressivo no número de bolsas de teses de doutorado, que em 2017 já apresentava um índice de 100%. Ademais, esse índice de bolsas para os discentes de pós-graduação apresentou queda em 2011 mas em 2014 já retomaram o índice de 100%.  Entretanto, as bolsas em dissertações de mestrado vêm diminuindo, com oscilações, como mostra o gráfico.

###Cursos de Mestrado e total de alunos no período (2011-2017)
```{r echo=FALSE}
orient.242.mestrado.df %>%
  group_by(curso) %>%
  summarise(Quantidade = n()) %>% mutate(Quantidade = factor(Quantidade)) %>%
  ggplot(aes(x=Quantidade,y = curso, color = Quantidade)) +
  geom_point() +
  ggtitle('Total de orientações de mestrado') +
  labs(x='Quantidade de alunos',y='Curso do mestrando')
```

Este gráfico demonstra que para os docentes dentro da PPG de Biologia Microbiana, há alunos de diversas outras PPGs que compõem sua contagem de orientação. Naturalmente a quantidade de alunos para a própia PPG é maior que para outras. Porém é notável que áreas conexas, tal como a Biologia Molecular e a Patologia Molecular, tem muitos alunos sendo orientados por alunos da PPG de Biologia Microbiana.

###Concentração de áreas por grandes áreas:
```{r echo=FALSE}
perfil.242.df.areas.de.atuacao %>%
  select(-sub_area, -especialidade) %>%
  distinct() %>%
  ggplot(aes(publicacoes, orientacoes_concluidas, color = area)) +
  geom_jitter(shape = 2, size = .8) +
  ggtitle('Concentração de áreas por grandes áreas') +
  labs(x='Publicações',y='Orientações concluídas') + facet_wrap(grande_area ~ ., ncol = 2)
```

É notável que a concentração de áreas esteja mais aglomerada dentro da grande área de Ciências Biológicas, uma vez que esta grande área engloba todas as PPGs aqui estudadas. Por mais que a predominância desta grande área seja opressora sobre as outras, ainda há a presença de outras grandes áreas com áreas específicas nas publicações.

###Quantidade de Orientações e Publicações pelo Número de Áreas
```{r echo=FALSE}
perfil.242.areas %>%
  ggplot(aes(publicacoes, orientacoes_concluidas, color = num_areas)) +
  geom_point() +
  guides(color = FALSE) +
  ggtitle('Orientações e Publicações pelo Número de Áreas') +
  labs(x='Publicações',y='Orientações concluídas') + facet_wrap(. ~ num_areas)
```

De acordo com a figura anterior, nesta PPG, quem trabalha em mais áreas orienta menos pessoas e publica menos. Há uma notável tendencia de diminuição do número de orientações e do número de publicações em pesquisadores que trabalham em cada vez mais áreas.
  
###Presença em congressos internacionais por número de orientações
```{r echo=FALSE}
especialidade.242.orient %>%
  ggplot(aes(internacional, orientacoes_concluidas, color = especialidade)) +
  geom_jitter(size = .8) +
  guides(color = FALSE) +
  ggtitle('Orientações concluidas x Participação em congressos internacionais') +
  labs(x='Participacao internacional',y='Orientações concluídas')
```

Por mais que o número de pesquisadores que não participam de congressos internacionais ser muito menor, é possível vizualisar que estes conseguem concluir mais orientações que os participantes destes congressos. Isso deve dar-se pela a maior presença deles com seus orientandos, portanto melhor acompanhamento.

##Biologia Molecular

### Grafico de barras; periodicos por ano
```{r echo=FALSE}
public.243.periodico.df %>%
  group_by(ano) %>%
  summarise(Quantidade = n()) %>%
  ggplot(aes(ano, Quantidade, fill = ano)) +
  geom_bar(position = "stack",stat = "identity") +
  ggtitle("Periódicos publicados por ano") +
  guides(fill = FALSE) +
  geom_text(aes(label=Quantidade), vjust=-0.3, size=2.5) +
  theme_minimal() + labs(x="Ano",y="Quantidade de Periódicos")
```

Este gráfico demonstra a quantidade de periódicos por ano para a PPG de Biologia molecular. É possível notar que por uma margem, as publicações tem uma quantidade constante, a despeito de 2012 que foi significativamente menor que os outros anos.

###Quantidade de periodicos publicados por professor(a) entre 2010 e 2017
```{r echo=FALSE}
perfil.243.df %>%
  ggplot(aes(idLattes,PERIODICO, color = num_areas)) +
  geom_point() +
  ggtitle("Periodicos publicados por pesquisador (incluindo mediana)") +
  theme(legend.position="right",legend.text=element_text(size=7)) +
  guides(fill=guide_legend(nrow=5, byrow=TRUE, title.position = "top")) +
  labs(x="Pesquisador(a)",y="Numero de publicacoes") +
  theme(axis.text.x=element_blank(), axis.ticks.x=element_blank()) +
  geom_hline(yintercept = sum(perfil.243.df %>% summarize(x = median(PERIODICO))), color = "red")
```

Este gráfico de dispersão demonstra para quantas área pertence (indicada pelas cores dos pontos), há uma homogeinidade na quantidade de publicações, exceto para alguns poucos pontos que deslocam a média para cima. A barra vermelha demonstra a mediana da quantidade de publicações.

###Número de areas de pesquisa e quantidade de eventos por pesquisador
```{r echo=FALSE}
perfil.243.df %>%
  ggplot(aes(idLattes,EVENTO, color = num_areas)) +
  geom_point() +
  ggtitle("Participação dos pesquisadores em eventos (incluindo mediana)") +
  theme(legend.position="right",legend.text=element_text(size=7)) +
  guides(fill=guide_legend(nrow=5, byrow=TRUE, title.position = "top")) +
  labs(x="Pesquisador(a)",y="Quantidade de eventos") +
  theme(axis.text.x=element_blank(), axis.ticks.x=element_blank()) +
  geom_hline(yintercept = sum(perfil.243.df %>% summarize(x = median(EVENTO))), color = "red")
```

Como o gráfico anterior, para cada pesquisador e pela quantidade de áreas, mostra-se em quantos eventos foram presentes. Nesta figura, denota-se a heterogeneidade, onde há uma grande quantidade de pesquisadores que participam de poucos eventos, bem como pesquisadores que participam de muitos, porém com uma dispersão muito maior e menor agrupamento em torno da mediana. 

###Publicação de livros por pais/ano
```{r echo=FALSE}
public.243.livros.df %>%
  group_by(ano,pais_de_publicacao) %>%
  ggplot(aes(x=ano,y=pais_de_publicacao, color= pais_de_publicacao)) +
  ggtitle("Livros publicados por ano") +
  guides(color = FALSE) +
  xlab("Ano") + ylab("Pais") + geom_jitter()
```

Percebe-se por esta figura, que para a PPG de Biologia Molecular, há uma predominancia de livros publicados no Brasil e uma carência de difusão de informação para outros países, uma vez que poucos livros foram publicados no exterior.

###Publicações de capítulos de livros por ano/país
```{r echo=FALSE}
perfil.243.df.publicacoes %>%
  filter((tipo_producao %in% c('LIVRO', 'CAPITULO_DE_LIVRO'))) %>%
  group_by(tipo_producao,pais_de_publicacao) %>%
  ggplot(aes(ano,tipo_producao,col=pais_de_publicacao)) +
  geom_jitter() + ggtitle("Publicações de capítulos de livros por ano/país") +
  labs(x='Tipo de produção',y='País')
```

Esta figura como a anterior, mostra que a maioria de capítulos de livos e a maioria de livros inteiros é publicada no Brasil. Porém para a quantidade de capítulos, há uma maior homogeneidade de publicações no esterior, uma vez que há uma boa quantidade de publicações na Holanda e nos Estados Unidos.

###Eventos nacionais e internacionais
```{r echo=FALSE}
public.243.eventos.df %>%
  filter(pais_do_evento %in% 
           c(names(head(sort(table(public.243.eventos.df$pais_do_evento)
                             , decreasing = TRUE), 10)))) %>%
  group_by(ano_do_trabalho,pais_do_evento) %>%
  ggplot(aes(x=ano_do_trabalho,y=pais_do_evento, color= pais_do_evento)) +
  ggtitle("Participacão em eventos por localização") +
  guides(color = FALSE) +
  xlab("Ano") + ylab("Pais") + geom_jitter()
```

Dos eventos participados, a maioria exorbitante foi no Brasil com uma expressividade no exterior quase constante para os Estados Unidos, e temporária para outros países, como a Bélgica e a Espanha (que tiveram eventos somente no ano de 2011), Grã-Bretanha (que tiveram eventos nos anos de 2011 e 2014 somente), a Suíça (que teve eventos somente em 2010) e a Colômbia (que teve eventos somente em 2014).

###Orientacoes completas por ano e natureza
```{r echo=FALSE}
orient.243.df %>%
  group_by(ano, natureza) %>% summarise(total = n()) %>%
  ggplot(aes(x=ano,y=total,group=natureza,color=natureza)) +
  geom_line() +
  ggtitle("Número de orientações finalizadas por ano") +
  theme(legend.position="right",legend.text=element_text(size=7)) +
  guides(fill=guide_legend(nrow=5, byrow=TRUE, title.position = "top")) +
  labs(x="Ano",y="Quantidade de Orientações")
```

Este gráfico de tendência compara a quantidade de orientações e a natureza destes por ano para a PPG de Biologia Molecular. É notável que o aumento até o ano de 2014 era expressivo para as dissetações de mestrado e supervisões de doutorado, tendencia que se alterou para a queda a partir de 2014, onde em 2014 houveram mais que 40 dissertações de mestrado, enqunato em 2017 caiu para 11. A quantidade de teses de doutorado caiu desde 2012 e manteve-se constante em uma margem até 2017.

###Evolução temporal de orientações em andamento e concluídas
```{r echo=FALSE}
perfil.243.df.orientacoes %>% group_by(ano, situacao) %>%
  ggplot(aes(x=situacao,y=ano,color=ano)) +
  geom_jitter(size = 0.8) + facet_wrap(. ~ Natureza) +
  guides(color = FALSE) +
  ggtitle("Disposição de orientações por ano")
```

A disposição das orientações e das naturezas de orientações é descrita na figura acima. Nesta figura, percebe-se a tendencia de aumento de orientações em andamento em todas as naturezas de pós-graduações. É notável também que mesmo não houvendo orientações em andamento para alguns anos, ainda haviam dissertações concluídas. Este fato se deve pela a recepção dos docentes para alunos de outras instituições, nas quais estes participavam das bancas e das orientações destes alunos.

###Índice de bolsas entre naturezas e evolução temporal
```{r echo=FALSE}
bolsas.243.df %>%
  ggplot(aes(x=ano,y=ratio*100,color=natureza, group=natureza)) +
  geom_line() +
  ggtitle("Porcentagem de orientações contempladas por bolsas") +
  theme(legend.position="right",legend.text=element_text(size=7)) +
  guides(fill=guide_legend(nrow=5, byrow=TRUE, title.position = "top")) +
  labs(x="Ano",y="Índice de bolsas")
```

Na figura acima, demonstra-se a quantidade de bolsas por ano para cada natureza de orientação. É notável a queda para 2011 nas teses de doutorado e superviões de pós doutorado, algo que não se repetiu em nenhum dos outros anos, que continuaram em sua margem de variação normal.

###Cursos de Mestrado e total de alunos no período (2011-2017)
```{r echo=FALSE}
orient.243.mestrado.df %>%
  group_by(curso) %>%
  summarise(Quantidade = n()) %>% mutate(Quantidade = factor(Quantidade)) %>%
  ggplot(aes(x=Quantidade,y = curso, color = Quantidade)) +
  geom_point() +
  ggtitle('Total de orientações de mestrado') +
  labs(x='Quantidade de alunos',y='Curso do mestrando')
```
A figura acima demonstra no eixo ordenado que um mesmo orientador pode ter alunos em diversos PPGs e compara a quantidade de alunos para cada PPG. Há uma concentração para uma grande quantidade de alunos no programa de Biologia Molecular - o que era esperado e de áreas correlacionadas, que por coincidência são justamente os programas de Biologia Animal e Patologia Molecular. Observe que no eixo abcisso, os números são tomados como fatores para uma quebra de escala, que não seria possível em valores numéricos.

###Concentração de áreas por grandes áreas:
```{r echo=FALSE}
perfil.243.df.areas.de.atuacao %>%
  select(-sub_area, -especialidade) %>%
  distinct() %>%
  ggplot(aes(publicacoes, orientacoes_concluidas, color = area)) +
  geom_jitter(shape = 2, size = .8) +
  ggtitle('Concentração de áreas por grandes áreas') +
  labs(x='Publicações',y='Orientações concluídas') + facet_wrap(grande_area ~ ., ncol = 2)
```

A figura de gráficos acima explicita que a maior concentração de publicações é dentro da grande área de Ciências Biológicas, como o esperado, dado que ainda ocorrem orientações em outras grandes areas. É visto que os números das áreas que se destacam em cada grande área condiz com sua natureza, uma vez que psicologia é de fato mais presente em Ciencias Humanas, como exemplo. Lembrando que um pesquisador possui mais de uma grande area, o pesquisador se repete entre diferentes graficos

###Quantidade de Orientações e Publicações pelo Número de Áreas
```{r echo=FALSE}
perfil.243.areas %>%
  ggplot(aes(publicacoes, orientacoes_concluidas, color = num_areas)) +
  geom_point() +
  guides(color = FALSE) +
  ggtitle('Orientações e Publicações pelo Número de Áreas') +
  labs(x='Publicações',y='Orientações concluídas') + facet_wrap(. ~ num_areas)
```

Quem trabalha em mais áreas diferentes publica/orienta mais? A figura acima mostra que não, uma vez que quem trabalha em mais áreas orienta mais pessoas, porém publica menosn em relação a quem trabalha em menos áreas.

## Patologia Molecular

### Grafico de barras; periodicos por ano
```{r echo=FALSE}
public.313.periodico.df %>%
  group_by(ano) %>%
  summarise(Quantidade = n()) %>%
  ggplot(aes(ano, Quantidade, fill = ano)) +
  geom_bar(position = "stack",stat = "identity") +
  ggtitle("Periodicos publicados por ano") +
  guides(fill = FALSE) +
  geom_text(aes(label=Quantidade), vjust=-0.3, size=2.5)+
  theme_minimal() + labs(x="Ano",y="Quantidade de Periodicos")
```

Sob uma perspectiva de publicações em periódicos, o Programa de Pós-Graduação de Patologia Molecular
apresentou um grande crescimento entre os anos de 2011 e 2015, evoluindo gradualmente a ponto totalizar um aumento de 109% na produção anual neste intervalo (de 54 para 113). Após atingir este pico em 2015, o PPG teve redução no número de publicações nos anos seguintes. Considerando a participação de 23 docentes no programa em 2017, foi atingida uma média de 4,22 publicações em periódicos por professor no ano em questão.

###Quantidade de periodicos publicados por professor(a) entre 2010 e 2017
```{r echo=FALSE}
perfil.313.df %>%
  ggplot(aes(idLattes,PERIODICO, color = num_areas)) +
  geom_point() +
  ggtitle("Periodicos publicados por pesquisador (incluindo mediana)") +
  theme(legend.position="right",legend.text=element_text(size=7)) +
  guides(fill=guide_legend(nrow=5, byrow=TRUE, title.position = "top")) +
  labs(x="Pesquisador(a)",y="Numero de publicacoes") +
  theme(axis.text.x=element_blank(), axis.ticks.x=element_blank()) +
  geom_hline(yintercept = sum(perfil.313.df %>% summarize(x = median(PERIODICO))), color = "red")
```

O gráfico acima demonstra o total de publicações registradas por cada pesquisador do PPG de Patologia Molecular, demonstrando relativa
homogeneidade na produção média por pesquisador, uma vez que grande parte das amostras se aproxima da
mediana (26 publicações em periódicos). É curioso observar que, apesar de os gráficos se comportarem de maneira diferente, a mediana foi a mesma obtida pelo Programa de Biologia Animal, apresentado anteriormente.

Nota-se aqui um grande destaque para um pesquisador que apresentou 233 publicações, quase 9 vezes o valor obtido pela mediana. Além disso, 22 dos 23 pesquisadores do PPG de Patologia estão relacionados a mais de uma área de pesquisa - revelando um foco menor do programa em especialização e maior em multidisciplinaridade.

###Número de areas de pesquisa e quantidade de eventos por pesquisador
```{r echo=FALSE}
perfil.313.df %>%
  ggplot(aes(idLattes,EVENTO, color = num_areas)) +
  geom_point() +
  ggtitle("Participação dos pesquisadores em eventos (incluindo mediana)") +
  theme(legend.position="right",legend.text=element_text(size=7)) +
  guides(fill=guide_legend(nrow=5, byrow=TRUE, title.position = "top")) +
  labs(x="Pesquisador(a)",y="Quantidade de eventos") +
  theme(axis.text.x=element_blank(), axis.ticks.x=element_blank()) +
  geom_hline(yintercept = sum(perfil.313.df %>% summarize(x = median(EVENTO))), color = "red")
```

O gráfico acima demonstra o total de eventos registrados por cada pesquisador, demonstrando relativa homo-
geneidade na participação média de cada pesquisador em eventos, uma vez que grande parte das amostras se
aproxima da mediana (20 participações). Assim como na relação de periódicos, há um pesquisador com muito mais participações registradas que seus colegas de programa (10 vezes o valor da mediana), sendo este o mesmo docente que atingiu o pico no número de periódicos. É curioso notar que o único pesquisador cadastrado com apenas uma área de pesquisa não apresentou nenhuma participação em eventos, reiterando uma proposta de multidisciplinaridade do PPG de Patologia Molecular.

###Publicação de livros por pais/ano
```{r echo=FALSE}
public.313.livros.df %>%
  group_by(ano,pais_de_publicacao) %>%
  ggplot(aes(x=ano,y=pais_de_publicacao, color= pais_de_publicacao)) +
  ggtitle("Livros publicados por ano") +
  guides(color = FALSE) +
  xlab("Ano") + ylab("Pais") + geom_jitter()
```

Denota-se no PPG de Patologia Molecular uma certa homogeneidade temporal na distribuição de livros publicados para cada país de publicação, com sete publicações em cinco anos diferentes. Curiosamente, nota-se que este é o único programa que não apresentou nenhum livro publicado fora do Brasil no período analisado. Uma das possíveis justificativas para este baixo índice comparativo é o fato de ser o programa de criação mais recente entre os programas aqui analisados, revelando neste um processo de maturação em andamento no aspecto de internacionalização.

###Publicações de capítulos de livros por ano/país
```{r echo=FALSE}
perfil.313.df.publicacoes %>%
  filter((tipo_producao %in% c('LIVRO', 'CAPITULO_DE_LIVRO'))) %>%
  group_by(tipo_producao,pais_de_publicacao) %>%
  ggplot(aes(ano,tipo_producao,col=pais_de_publicacao)) +
  geom_jitter() + ggtitle("Publicações de capítulos de livros por ano/país") +
  labs(x='Tipo de produção',y='País')
```

Trazendo a análise de publicações de capítulos de livros, há um aumento expressivo no número de amostras, em relação a considerar apenas livros.
Todos os anos analisados (2010-2017) registraram mais de um capítulo de livro publicado pelo PPG em
Patologia Molecular. Neste eixo, o nível de internacionalização
foi consideravelmente maior que o anterior, com a menção a diversos países da América e Europa. Entretento, a redução da participação internacional do programa em livros é evidente nos anos 2016 e 2017, com publicações nacionais, principalmente - assim como nos demais programas analisados.

###Eventos nacionais e internacionais
```{r echo=FALSE}
public.313.eventos.df %>%
  filter(pais_do_evento %in% 
           c(names(head(sort(table(public.313.eventos.df$pais_do_evento)
                             , decreasing = TRUE), 10)))) %>%
  group_by(ano_do_trabalho,pais_do_evento) %>%
  ggplot(aes(x=ano_do_trabalho,y=pais_do_evento, color= pais_do_evento)) +
  ggtitle("Participacão em eventos por localização") +
  guides(color = FALSE) +
  xlab("Ano") + ylab("Pais") + geom_jitter()
```

Considerando eventos, o Programa de Patologia Molecular teve comparecimento muito maior em eventos no Brasil que
em países estrangeiros, como esperado. Ainda assim, o gráfico mostra que o programa teve boa presença em eventos de sede
internacional nos anos iniciais da base de dados, com destaque para 2012. Além disso, é notável a queda no número de participações a partir do ano de 2015, tanto nacionais quanto internacionais - revelando pouca correlação entre a participação de eventos e publicação de períodicos (mostrada anteriormente).

###Orientacoes completas por ano e natureza
```{r echo=FALSE}
orient.313.df %>%
  group_by(ano, natureza) %>% summarise(total = n()) %>%
  ggplot(aes(x=ano,y=total,group=natureza,color=natureza)) +
  geom_line() +
  ggtitle("Número de orientações finalizadas por ano") +
  theme(legend.position="right",legend.text=element_text(size=7)) +
  guides(fill=guide_legend(nrow=5, byrow=TRUE, title.position = "top")) +
  labs(x="Ano",y="Quantidade de Orientações")
```

Observando a evolução do número de orientações completas ao longo dos anos,
percebe-se que o Programa de mestrado cresceu consideravelmente entre
2010 e 2014, mas apresentou regressão nos períodos posteriores, chegando ao seu
menor índice em 2016. Em contrapartida, o número de orientações de pós-doutorado apresentou maior estabilidade ao longo da amostra, mesmo que com valores reduzidos. Todas
as naturezas de orientação do Programa parecem bem estabelecidas, visto que
mesmo os índices de doutorado apresentaram ao menos 15 observações/ano. Ainda assim, é notável a queda no número de orientações de 2014 para 2015 - o que corrobora com as análises anteriores de queda de participação em eventos no ano em questão.

###Evolução temporal de orientações em andamento e concluídas
```{r echo=FALSE}
perfil.313.df.orientacoes %>% group_by(ano, situacao) %>%
  ggplot(aes(x=situacao,y=ano,color=ano)) +
  geom_jitter(size = 0.8) + facet_wrap(. ~ Natureza) +
  guides(color = FALSE) +
  ggtitle("Disposição de orientações por ano")
```

Observou-se uma quantidade praticamente linear no número de iniciações científicas, mestrados e doutorados
concluídos no período 2010–2014, com uma queda relevante após 2015. As iniciações científicas tiveram queda vertiginosa em 2017, o que sinaliza uma queda no número de pessoas envolvidas na pesquisa também na graduação. Conjuntamente a isso, verifica-se um aumento significativo no número de
orientações em andamento a partir de 2014. O comportamento prévio a este ano, com diversas orientações finalizadas e poucas em andamento, sugere que o PPG em Patologia Molecular contemplava poucos cadastros de orientações em andamento e está intensificando esta prática nos anos mais recentes - o que
tornará análises futuras ainda mais enriquecedoras.

###Índice de bolsas entre naturezas e evolução temporal
```{r echo=FALSE}
bolsas.313.df %>%
  ggplot(aes(x=ano,y=ratio*100,color=natureza, group=natureza)) +
  geom_line() +
  ggtitle("Porcentagem de orientações contempladas por bolsas") +
  theme(legend.position="right",legend.text=element_text(size=7)) +
  guides(fill=guide_legend(nrow=5, byrow=TRUE, title.position = "top")) +
  labs(x="Ano",y="Índice de bolsas")
```

Observando o gráfico de porcentagem de bolsas do Programa de Patologia Molecular, é possível perceber que o número de bolsas oferecidas se comportou de maneira não linear ao longo dos anos.
Durante todo o período, todas as naturezas apresentaram um índice de pelo menos 50% de bolsas. Além disso, as teses de pós-doutorado se mostram a natureza de pesquisa melhor contemplada pelas agências financiadoras, visto que foram a única natureza de pós-doutorado que atingiu 90% em algum momento da amostra. Por
fim, é possível observar que o pico no número de orientações de mestrado registrado em 2014 foi acompanhado por um aumento de 15% no índice de alunos contemplados com bolsa, revelando um ano de grande crescimento na área de mestrado do PPG de Patologia Molecular.


###Cursos de Mestrado e total de alunos no período (2011-2017)
```{r echo=FALSE}
orient.313.mestrado.df %>%
  group_by(curso) %>%
  summarise(Quantidade = n()) %>% mutate(Quantidade = factor(Quantidade)) %>%
  ggplot(aes(x=Quantidade,y = curso, color = Quantidade)) +
  geom_point() +
  ggtitle('Total de orientações de mestrado') +
  labs(x='Quantidade de alunos',y='Curso do mestrando')
```

A análise de cursos dos alunos de mestrado orientados pelos professores do PGG de Patologia Molecular apresenta um grande índice de correlação com outras áreas. O curso com maior número de orientações do programa é ele mesmo, como esperado (49 orientações). Entretanto, é visível a relação íntima dos docentes com o Programa de Biologia Molecular, com 40 orientações. Em seguida, são listados diversos outros programas de pós-graduação com quantidade significativa de orientados cadastrados - não se limitando aos que foram analisados neste trabalho.

###Concentração de áreas por grandes áreas:
```{r echo=FALSE}
perfil.313.df.areas.de.atuacao %>%
  select(-sub_area, -especialidade) %>%
  distinct() %>%
  ggplot(aes(publicacoes, orientacoes_concluidas, color = area)) +
  geom_jitter(shape = 2, size = .8) +
  ggtitle('Concentração de áreas por grandes áreas') +
  labs(x='Publicações',y='Orientações concluídas') + facet_wrap(grande_area ~ ., ncol = 2)
#Comentei o Facet pois ele oculta a amostra diferenciada
```

Uma análise superficial do gráfico apresentado já evidencia uma grande concentração de pesquisadores do PPG de Patologia Molecular na grande área de Ciências Biológicas. Entretanto, é curioso observar que a maioria dos pesquisadores de maior produtividade (em orientações e publicações) também estão integrados a outras grandes áreas. O principal expoente do programa nestes aspectos está associado à grande área de Ciências Agrárias, por exemplo.

###Quantidade de Orientações e Publicações pelo Número de Áreas
```{r echo=FALSE}
perfil.313.areas %>%
  ggplot(aes(publicacoes, orientacoes_concluidas, color = num_areas)) +
  geom_point() +
  ggtitle('Orientações e Publicações pelo Número de Áreas') +
  guides(color = FALSE) +
  labs(x='Publicações',y='Orientações concluídas') + facet_wrap(. ~ num_areas)
#Comentei o Facet pois ele oculta a amostra diferenciada
```

Em um primeiro momento, observa-se que o pesquisador *outliar* comentado anteriormente apresenta valores discrepantes tanto para número de publicações quanto para orientações concluídas. A ideia discutida até aqui sobre a valorização de pluralidade de disciplinas, entretanto, não implica necessariamente em maior produtividade no PPG - o único pesquisador a trabalhar em 4 grandes áreas não apresentou número de orientações e/ou publicações destoante dos demais docentes.

##Análises globais

###Quantidade de Orientações e Participação internacional por PPG

```{r echo=FALSE}
especialidade.total.orient %>%
  ggplot(aes(internacional, orientacoes_concluidas, color = programa)) +
  geom_jitter(size = .8) +
  ggtitle('Orientações concluidas x Participação em congressos internacionais') +
  labs(x='Participacao internacional',y='Orientações concluídas')
```

O gráfico acima traz uma comparação entre os pesquisadores dos diversos PPGs analisados neste trabalho e uma relação entre a participação internacional dos docentes e orientações concluídas dos mesmos. É curioso observar que, de todos os programas, o PPG de Patologia Molecular foi o que apresentou mais pontos fora do padrão, com docentes que ultrapassaram 100 orientações no período analisado. Além disso, é possível observar que o PPG de Biologia Microbiana foi o que apresentou maior índice de participação internacional entre seus membros, com grande concentração de suas amostras no lado direito do gráfico. Por fim, é possível perceber que a grande massa pesquisadores ativos internacionalmente se encontra na parte de baixo do gráfico - sinalizando que experiências internacionais não implicam em maior número de orientações.

###Grafo de proximidade entre pesquisadores do Programa de Pós-Graduação
```{r fig.height=9.375, fig.width=12.5, echo=FALSE}
plot(grafo, vertex.label=V(grafo)$name, layout = layout.auto,
      edge.arrow.width = 0.3,

edge.size = 3,
      edge.arrow.size = 0.5,
      vertex.size2 = 3,
      vertex.label.cex = 0.7,
      vertex.label.color = 'black',
      vertex.label.family = 'ArialMT',
      asp = 0.0,
      margin = 0.0)
```

Este grafo demonstra a rede de cooperação, peso, quantidades de publicações e senioridade dos indivíduos e da cooperação entre eles. Cada círculo representa um docente dentro de um PPG indicado pela cor, onde: azul é a PPG de Biologia Animal; amarelo é PPG de Biologia Microbiana; verde corresponde a PPG de Biologia Molecular; e vermelho a PPG de Patologia Molecular. Já para cada aresta, as cores determinam a senioridade entre os dois pontos, onde verde é 9, azul é 8 e laranja é 7; quanto ao diametro é dado pela a quantidade de áreas um vértice compartilha com o outro; já para a ligação da aresta, esta é dada pelos os periódicos em comum para cada vértice, indicando cooperação. A partir deste grafo é possível entender que cada programa de pós graduação se mantém praticamente isolado, exceto pelos os docentes que se repetem para cada PPG. É notável que a maioria destas PPGs tem muita intracomunicação, deixando poucos docentes isolados exceto pela a PPG de Biologia Microbiana que tiveram seis docentes completamente isolados de qualquer outra PPG e dela mesma, tendo o maior número de isolamentos. É possível perceber também que a docente de sobrenome Cynthia Maria Kyaw é uma comunicadora entre PPGs, pois intercomunica as PPGs de Biologia Molecular e Biologia Microbiana e além disso previne o isolamento entre sua própria PPG formando uma ponte entre um e outro grupo de docentes que estariam isolados se não colaborassem com esta. Em cada uma das PPGs há docentes em destaque pela a quantidade de publicações (indicada pelo o diâmetro do vértice), mas é possível perceber que o PPG de Patologia Molecular tem uma dominância de um docente que publica aproximadamente o triplo que o anterior em publicações, o que resulta em um grande vértice central. Este dominante também está com a maioria das interligações de seu PPG, sendo portanto um canal de informação dentro de seu grupo.

#Bibliografia

"SciVal Metrics Guidebook." ELSEVIER, 2014.

Chapman, Pete, Julian Clinton, Randy Kerber, Thomas Khabaza, Thomas Reinartz, Colin Shearer, e Rüdiger Wirth. “CRISP-DM 1.0: Step-by-Step Data Mining Guide”. USA: CRISP-DM Consortium, 2000. Disponível em: https://www.the-modeling-agency.com/, visitado em Novembro, 2019.

Fernandes, Jorge H C, Ricardo Barros Sampaio, e João Ribas de Moura. “Ciência de Dados para Todos (Data Science For All) - 2018.1 - Análise da Produção Cientíﬁca e Acadêmica da Universidade de Brasília - Modelo de Relatório Final da Disciplina - Departamento de Ciência da Computação da UnB”. Disciplina 116297 - Tópicos Avançados em Computadores, turma D, do semestre 2018.1, do Departamento de Ciência da Computação do Instituto de Ciências Exatas da Universidade de Brasília, 13 de junho de 2018

Secretaria de Comunicação da UnB (SeCom). 2018. "Impacto da produção científica da UnB aumenta mais de 100% em seis anos." Universidade de Brasília, Junho de 2018, Disponível em https://www.noticias.unb.br/, visitado em Novembro de 2018. 

Azevedo, Mário Luiz Neves de, João Ferreira de Oliveira, e Afrânio Mendes Catani. “O Sistema Nacional de Pós-Graduação (SNPG) e o Plano Nacional de Educação (PNE 2014-2024): regulação, avaliação e ﬁnanciamento”. Revista Brasileira de Política e Administração da Educação 32, nº 3 (2016). http://dx.doi.org/10.21573/vol32n32016.68576.

Leite, Fernando César Lima. “Considerações básicas sobre a Avaliação do Sistema Nacional de PósGraduação”. Comunicação Pessoal (slides). Universidade de Brasília, abril de 2018.

CAPES. “Documentos de Área”. CAPES.gov.br. Acessado 12 de junho de 2018. Disponível em: http://avaliacaoquadrienal.capes.gov.br/, visitado em Dezembro de 2018.

PORTAL DE PERIODICOS UNISUL, O Processo de Avaliação do Sistema Nacional de Pós-Graduação Identifica a Capes e a Diferencia de outras Agencias. Disponível em: http://www.portaldeperiodicos.unisul.br/index.php/Poiesis/article/view/1961/2708, visitado em: 01/12/2018.

Pátaro, Cristina Saitê de Oliveira, e Frank Antonio Mezzomo. “Sistema Nacional de Pós-Graduação no Brasil: estrutura, resultados e desaﬁos para política de Estado - Lívio Amaral”. Revista Educação e Linguagens 2, nº 3 (julho de 2013): 11–17.

Fernandes, Jorge H C, e Ricardo Barros Sampaio. “DataScienceForAll”. Zotero, 13 de junho de 2018
